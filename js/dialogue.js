// Generated by CoffeeScript 2.5.1
var Button, calcr1r2;

import {
  global
} from '../js/globals.js';

import {
  menu0
} from '../js/menus.js';

import _ from 'https://cdn.skypack.dev/lodash';

global.dialogues = [];

calcr1r2 = function(n, w, h) {
  var r1, r2, s;
  s = Math.min(w, h);
  r2 = s / 7;
  r1 = s / 3;
  if (n > 6) {
    r2 *= 7 / n;
  }
  return [Math.round(r1), Math.round(r2)];
};

// assert [200,86], calcr1r2 4,600,800
// assert [200,75], calcr1r2 8,600,800
export var Dialogue = class Dialogue {
  constructor(x = width / 2, y = height / 2) {
    this.x = x;
    this.y = y;
    this.col = '#ff06';
    this.buttons = [];
    global.dialogues.push(this);
  }

  add(prompt, event) {
    return this.buttons.push(new Button(this, prompt, event));
  }

  clock(title = ' ', backPop = false, turn = 0) {
    var button, chars, i, j, len, n, r1, r2, ref, v;
    this.backPop = backPop;
    n = this.buttons.length;
    [r1, r2] = calcr1r2(n, width, height);
    ref = this.buttons;
    for (i = j = 0, len = ref.length; j < len; i = ++j) {
      button = ref[i];
      v = i * 360 / n + turn - 90;
      button.x = r1 * cos(v);
      button.y = r1 * sin(v);
      button.r = r2;
    }
    button = new Button(this, title, function() {
      if (this.dlg.backPop) {
        return global.dialogues.pop();
      } else {
        return global.dialogues.clear();
      }
    });
    button.x = 0;
    button.y = 0;
    button.r = r2;
    this.buttons.push(button);
    chars = _.max((function() {
      var k, len1, ref1, results;
      ref1 = this.buttons;
      results = [];
      for (k = 0, len1 = ref1.length; k < len1; k++) {
        button = ref1[k];
        results.push(button.title.length);
      }
      return results;
    }).call(this));
    return this.textSize = chars === 1 ? 0.75 * r2 : 2.5 * r2 / chars;
  }

  update(delta) { // -1 eller +1
    var i, j, len, ref, ref1, results;
    if ((0 <= (ref = this.pageStart + delta * this.pageSize) && ref < this.lst.length)) {
      this.pageStart += delta * this.pageSize;
      ref1 = range(this.pageSize);
      results = [];
      for (j = 0, len = ref1.length; j < len; j++) {
        i = ref1[j];
        if (this.pageStart + i < this.lst.length) {
          results.push(this.buttons[i].arr = this.lst[this.pageStart + i]);
        } else {
          results.push(this.buttons[i].arr = []);
        }
      }
      return results;
    }
  }

  show() {
    var button, j, len, ref;
    push();
    translate(this.x, this.y);
    textSize(this.textSize);
    ref = this.buttons;
    for (j = 0, len = ref.length; j < len; j++) {
      button = ref[j];
      button.show(this);
    }
    return pop();
  }

  execute(mx, my) {
    var button, j, len, ref;
    ref = this.buttons;
    for (j = 0, len = ref.length; j < len; j++) {
      button = ref[j];
      if (button.inside(mx, my, this)) {
        button.execute();
        return true;
      }
    }
    return false;
  }

};

Button = class Button {
  constructor(dlg, title1, event1 = function() {
      return print(this.txt);
    }) {
    this.dlg = dlg;
    this.title = title1;
    this.event = event1;
    this.active = true;
  }

  info(title1, event1) {
    this.title = title1;
    this.event = event1;
    return this.active = true;
  }

  show() {
    var arr;
    if (this.active) {
      fill(this.dlg.col);
    } else {
      fill("#fff8");
    }
    stroke(0);
    ellipse(this.x, this.y, 2 * this.r, 2 * this.r);
    push();
    if (this.active) {
      fill(0);
    } else {
      fill("#888");
    }
    noStroke();
    textAlign(CENTER, CENTER);
    textSize(this.dlg.textSize);
    arr = this.title.split(' ');
    if (arr.length === 1) {
      text(arr[0], this.x, this.y);
    } else {
      text(arr[0], this.x, this.y - 0.3 * this.r);
      text(arr[1], this.x, this.y + 0.3 * this.r);
    }
    return pop();
  }

  inside(mx, my) {
    return this.r > dist(mx, my, this.dlg.x + this.x, this.dlg.y + this.y);
  }

  execute() {
    if (this.active) {
      return this.event();
    }
  }

};

export var MenuButton = class MenuButton {
  constructor(x, y, onclick) {
    this.x = x;
    this.y = y;
    this.onclick = onclick;
    this.d = (height + width) / 200;
    this.w = 4 * this.d;
    this.h = 4 * this.d;
  }

  draw() {
    noStroke();
    fill("black");
    rect(this.x, this.y - 1.5 * this.d, this.w, this.d * 0.8);
    rect(this.x, this.y + 0 * this.d, this.w, this.d * 0.8);
    return rect(this.x, this.y + 1.5 * this.d, this.w, this.d * 0.8);
  }

  inside(mx, my) {
    return (this.x - this.w / 2 < mx && mx < this.x + this.w / 2) && (this.y - this.h / 2 < my && my < this.y + this.h / 2);
  }

};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGlhbG9ndWUuanMiLCJzb3VyY2VSb290IjoiLi4iLCJzb3VyY2VzIjpbImNvZmZlZVxcZGlhbG9ndWUuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBLE1BQUEsRUFBQTs7QUFBQSxPQUFBO0VBQVEsTUFBUjtDQUFBLE1BQUE7O0FBQ0EsT0FBQTtFQUFRLEtBQVI7Q0FBQSxNQUFBOztBQUNBLE9BQU8sQ0FBUCxNQUFBOztBQUVBLE1BQU0sQ0FBQyxTQUFQLEdBQW1COztBQUVuQixRQUFBLEdBQVcsUUFBQSxDQUFDLENBQUQsRUFBRyxDQUFILEVBQUssQ0FBTCxDQUFBO0FBQ1gsTUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBO0VBQUMsQ0FBQSxHQUFJLElBQUksQ0FBQyxHQUFMLENBQVMsQ0FBVCxFQUFXLENBQVg7RUFDSixFQUFBLEdBQUssQ0FBQSxHQUFFO0VBQ1AsRUFBQSxHQUFLLENBQUEsR0FBRTtFQUNQLElBQUcsQ0FBQSxHQUFJLENBQVA7SUFBYyxFQUFBLElBQU0sQ0FBQSxHQUFFLEVBQXRCOztTQUNBLENBQUMsSUFBSSxDQUFDLEtBQUwsQ0FBVyxFQUFYLENBQUQsRUFBZ0IsSUFBSSxDQUFDLEtBQUwsQ0FBVyxFQUFYLENBQWhCO0FBTFUsRUFOWDs7OztBQWVBLE9BQUEsSUFBYSxXQUFOLE1BQUEsU0FBQTtFQUVOLFdBQWMsS0FBTSxLQUFBLEdBQU0sQ0FBWixNQUFvQixNQUFBLEdBQU8sQ0FBM0IsQ0FBQTtJQUFDLElBQUMsQ0FBQTtJQUFhLElBQUMsQ0FBQTtJQUM3QixJQUFDLENBQUEsR0FBRCxHQUFPO0lBQ1AsSUFBQyxDQUFBLE9BQUQsR0FBVztJQUNYLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBakIsQ0FBc0IsSUFBdEI7RUFIYTs7RUFLZCxHQUFNLENBQUMsTUFBRCxFQUFRLEtBQVIsQ0FBQTtXQUFrQixJQUFDLENBQUEsT0FBTyxDQUFDLElBQVQsQ0FBYyxJQUFJLE1BQUosQ0FBVyxJQUFYLEVBQWEsTUFBYixFQUFv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QVhIIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtnbG9iYWx9IGZyb20gJy4uL2pzL2dsb2JhbHMuanMnXHJcbmltcG9ydCB7bWVudTB9IGZyb20gJy4uL2pzL21lbnVzLmpzJ1xyXG5pbXBvcnQgXyBmcm9tICdodHRwczovL2Nkbi5za3lwYWNrLmRldi9sb2Rhc2gnXHJcblxyXG5nbG9iYWwuZGlhbG9ndWVzID0gW11cclxuXHJcbmNhbGNyMXIyID0gKG4sdyxoKSAtPlxyXG5cdHMgPSBNYXRoLm1pbiB3LGhcclxuXHRyMiA9IHMvN1xyXG5cdHIxID0gcy8zXHJcblx0aWYgbiA+IDYgdGhlbiByMiAqPSA3L25cclxuXHRbTWF0aC5yb3VuZChyMSksTWF0aC5yb3VuZChyMildXHJcbiMgYXNzZXJ0IFsyMDAsODZdLCBjYWxjcjFyMiA0LDYwMCw4MDBcclxuIyBhc3NlcnQgWzIwMCw3NV0sIGNhbGNyMXIyIDgsNjAwLDgwMFxyXG5cclxuZXhwb3J0IGNsYXNzIERpYWxvZ3VlXHJcblxyXG5cdGNvbnN0cnVjdG9yIDogKEB4ID0gd2lkdGgvMiwgQHkgPSBoZWlnaHQvMikgLT5cclxuXHRcdEBjb2wgPSAnI2ZmMDYnXHJcblx0XHRAYnV0dG9ucyA9IFtdXHJcblx0XHRnbG9iYWwuZGlhbG9ndWVzLnB1c2ggQFxyXG5cclxuXHRhZGQgOiAocHJvbXB0LGV2ZW50KSAtPiBAYnV0dG9ucy5wdXNoIG5ldyBCdXR0b24gQCxwcm9tcHQsZXZlbnRcclxuXHJcblx0Y2xvY2sgOiAodGl0bGU9ICcgJywgQGJhY2tQb3A9ZmFsc2UsIHR1cm49MCkgLT5cclxuXHRcdG4gPSBAYnV0dG9ucy5sZW5ndGhcclxuXHRcdFtyMSxyMl0gPSBjYWxjcjFyMiBuLHdpZHRoLGhlaWdodFxyXG5cdFx0Zm9yIGJ1dHRvbixpIGluIEBidXR0b25zXHJcblx0XHRcdHYgPSBpKjM2MC9uICsgdHVybiAtIDkwXHJcblx0XHRcdGJ1dHRvbi54ID0gcjEqY29zIHZcclxuXHRcdFx0YnV0dG9uLnkgPSByMSpzaW4gdlxyXG5cdFx0XHRidXR0b24uciA9IHIyXHJcblx0XHRidXR0b24gPSBuZXcgQnV0dG9uIEAsIHRpdGxlLCAtPiBcclxuXHRcdFx0aWYgQGRsZy5iYWNrUG9wIHRoZW4gZ2xvYmFsLmRpYWxvZ3Vlcy5wb3AoKSBlbHNlIGdsb2JhbC5kaWFsb2d1ZXMuY2xlYXIoKVxyXG5cdFx0YnV0dG9uLnggPSAwXHJcblx0XHRidXR0b24ueSA9IDBcclxuXHRcdGJ1dHRvbi5yID0gcjJcclxuXHRcdEBidXR0b25zLnB1c2ggYnV0dG9uXHJcblx0XHRjaGFycyA9IF8ubWF4IChidXR0b24udGl0bGUubGVuZ3RoIGZvciBidXR0b24gaW4gQGJ1dHRvbnMpXHJcblx0XHRAdGV4dFNpemUgPSBpZiBjaGFycyA9PSAxIHRoZW4gMC43NSpyMiBlbHNlIDIuNSpyMi9jaGFyc1xyXG5cclxuXHR1cGRhdGUgOiAoZGVsdGEpIC0+ICMgLTEgZWxsZXIgKzFcclxuXHRcdGlmIDAgPD0gQHBhZ2VTdGFydCArIGRlbHRhICogQHBhZ2VTaXplIDwgQGxzdC5sZW5ndGhcclxuXHRcdFx0QHBhZ2VTdGFydCArPSBkZWx0YSAqIEBwYWdlU2l6ZVxyXG5cdFx0XHRmb3IgaSBpbiByYW5nZSBAcGFnZVNpemVcclxuXHRcdFx0XHRpZiBAcGFnZVN0YXJ0ICsgaSA8IEBsc3QubGVuZ3RoXHJcblx0XHRcdFx0XHRAYnV0dG9uc1tpXS5hcnIgPSBAbHN0W0BwYWdlU3RhcnQgKyBpXSBcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRAYnV0dG9uc1tpXS5hcnIgPSBbXVxyXG5cclxuXHRzaG93IDogLT5cclxuXHRcdHB1c2goKVxyXG5cdFx0dHJhbnNsYXRlIEB4LEB5XHJcblx0XHR0ZXh0U2l6ZSBAdGV4dFNpemVcclxuXHRcdGZvciBidXR0b24gaW4gQGJ1dHRvbnNcclxuXHRcdFx0YnV0dG9uLnNob3cgQFxyXG5cdFx0cG9wKClcclxuXHJcblx0ZXhlY3V0ZSA6IChteCxteSkgLT5cclxuXHRcdGZvciBidXR0b24gaW4gQGJ1dHRvbnNcclxuXHRcdFx0aWYgYnV0dG9uLmluc2lkZSBteCxteSxAXHJcblx0XHRcdFx0YnV0dG9uLmV4ZWN1dGUoKVxyXG5cdFx0XHRcdHJldHVybiB0cnVlXHJcblx0XHRmYWxzZSBcclxuXHJcbmNsYXNzIEJ1dHRvbiBcclxuXHRjb25zdHJ1Y3RvciA6IChAZGxnLCBAdGl0bGUsIEBldmVudCA9IC0+IHByaW50IEB0eHQpIC0+IEBhY3RpdmUgPSB0cnVlIFxyXG5cdGluZm8gOiAoQHRpdGxlLEBldmVudCkgLT4gQGFjdGl2ZSA9IHRydWVcclxuXHRzaG93IDogLT5cclxuXHRcdGlmIEBhY3RpdmUgdGhlbiBmaWxsIEBkbGcuY29sIGVsc2UgZmlsbCBcIiNmZmY4XCJcclxuXHRcdHN0cm9rZSAwXHJcblx0XHRlbGxpcHNlIEB4LEB5LDIqQHIsMipAclxyXG5cdFx0cHVzaCgpXHJcblx0XHRpZiBAYWN0aXZlIHRoZW4gZmlsbCAwIGVsc2UgZmlsbCBcIiM4ODhcIlxyXG5cdFx0bm9TdHJva2UoKVxyXG5cdFx0dGV4dEFsaWduIENFTlRFUixDRU5URVJcclxuXHRcdHRleHRTaXplIEBkbGcudGV4dFNpemVcclxuXHRcdGFyciA9IEB0aXRsZS5zcGxpdCAnICdcclxuXHRcdGlmIGFyci5sZW5ndGggPT0gMSBcclxuXHRcdFx0dGV4dCBhcnJbMF0sIEB4LEB5XHJcblx0XHRlbHNlIFxyXG5cdFx0XHR0ZXh0IGFyclswXSwgQHgsQHktMC4zKkByXHJcblx0XHRcdHRleHQgYXJyWzFdLCBAeCxAeSswLjMqQHJcclxuXHRcdHBvcCgpXHJcblxyXG5cdGluc2lkZSA6IChteCxteSkgLT4gIEByID4gZGlzdCBteCwgbXksIEBkbGcueCArIEB4LCBAZGxnLnkgKyBAeSBcclxuXHRleGVjdXRlIDogLT4gXHJcblx0XHRpZiBAYWN0aXZlIHRoZW4gQGV2ZW50KClcclxuXHJcbmV4cG9ydCBjbGFzcyBNZW51QnV0dG9uXHJcblx0Y29uc3RydWN0b3IgOiAoQHgsQHksQG9uY2xpY2spIC0+XHJcblx0XHRAZCA9IChoZWlnaHQrd2lkdGgpLzIwMFxyXG5cdFx0QHcgPSA0KkBkXHJcblx0XHRAaCA9IDQqQGRcclxuXHRkcmF3IDogLT5cclxuXHRcdG5vU3Ryb2tlKClcclxuXHRcdGZpbGwgXCJibGFja1wiXHJcblx0XHRyZWN0IEB4LEB5LTEuNSpAZCwgQHcsIEBkKjAuOFxyXG5cdFx0cmVjdCBAeCxAeSswKkBkLCAgIEB3LCBAZCowLjhcclxuXHRcdHJlY3QgQHgsQHkrMS41KkBkLCBAdywgQGQqMC44XHJcblx0aW5zaWRlIDogKG14LG15KSAtPiBAeC1Ady8yIDwgbXggPCBAeCtAdy8yIGFuZCBAeS1AaC8yIDwgbXkgPCBAeStAaC8yXHJcbiJdfQ==
//# sourceURL=c:\github\2023-026-chessx2\coffee\dialogue.coffee