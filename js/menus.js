// Generated by CoffeeScript 2.5.1
var analyze, newGame, setIncrement, setMinutes;

import {
  global
} from '../js/globals.js';

import {
  Dialogue
} from '../js/dialogue.js';

import {
  enterFullscreen
} from '../js/utils.js';

analyze = (url) => {
  var a;
  a = document.getElementById('pgn');
  a.hidden = false;
  a.value = global.chess.pgn();
  a.focus();
  a.select();
  document.execCommand('copy');
  a.hidden = true;
  return window.open(url, "_blank");
};

newGame = () => {
  var seconds;
  global.chess.reset();
  seconds = global.minutes * 60 + global.increment;
  return global.clocks = [seconds, seconds];
};

export var menu0 = function() { // Main Menu
  global.dialogue = new Dialogue();
  global.dialogue.add('Full Screen', function() {
    enterFullscreen();
    return global.dialogues.clear();
  });
  global.dialogue.add('Flip', function() {
    return global.dialogues.clear();
  });
  global.dialogue.add('Increment...', function() {
    return menu2();
  });
  global.dialogue.add('Lichess', function() {
    analyze("https://lichess.org/paste");
    return global.dialogues.clear();
  });
  global.dialogue.add('chess.com', function() {
    analyze("https://chess.com/analysis");
    return global.dialogues.clear();
  });
  global.dialogue.add('Minutes...', function() {
    return menu1();
  });
  global.dialogue.add('New Game', function() {
    var seconds;
    newGame();
    seconds = global.minutes * 60 + global.increment;
    global.clocks = [seconds, seconds];
    console.log('newGame', global.minutes, global.increment);
    return global.dialogues.clear();
  });
  global.dialogue.add('Undo', function() {
    global.chess.undo();
    return global.dialogues.clear();
  });
  global.dialogue.clock(' ', true);
  return global.dialogue.textSize *= 1.5;
};

setMinutes = function(minutes) {
  var seconds;
  global.minutes = minutes;
  seconds = minutes * 60 + global.increment;
  global.clocks = [seconds, seconds];
  return global.dialogues.pop();
};

export var menu1 = function() { // Minutes...
  var i, len, n, ref;
  global.dialogue = new Dialogue();
  ref = [1, 2, 3, 5, 10, 15, 20, 30, 45, 60, 90];
  for (i = 0, len = ref.length; i < len; i++) {
    n = ref[i];
    (function(n) {
      return global.dialogue.add(n.toString(), function() {
        return setMinutes(n);
      });
    })(n);
  }
  global.dialogue.clock();
  return global.dialogue.textSize *= 0.5;
};

setIncrement = function(increment) {
  var seconds;
  global.increment = increment;
  seconds = global.minutes * 60 + global.increment;
  global.clocks = [seconds, seconds];
  return global.dialogues.pop();
};

export var menu2 = function() { // Increment...
  var i, len, n, ref;
  global.dialogue = new Dialogue();
  ref = [0, 1, 2, 3, 5, 10, 15, 20, 30, 40, 50];
  for (i = 0, len = ref.length; i < len; i++) {
    n = ref[i];
    (function(n) {
      return global.dialogue.add(n.toString(), function() {
        return setIncrement(n);
      });
    })(n);
  }
  global.dialogue.clock();
  return global.dialogue.textSize *= 0.5;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVudXMuanMiLCJzb3VyY2VSb290IjoiLi4iLCJzb3VyY2VzIjpbImNvZmZlZVxcbWVudXMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBLE9BQUEsRUFBQSxPQUFBLEVBQUEsWUFBQSxFQUFBOztBQUFBLE9BQUE7RUFBUSxNQUFSO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVEsUUFBUjtDQUFBLE1BQUE7O0FBQ0EsT0FBQTtFQUFRLGVBQVI7Q0FBQSxNQUFBOztBQUVBLE9BQUEsR0FBVSxDQUFDLEdBQUQsQ0FBQSxHQUFBO0FBRVYsTUFBQTtFQUFDLENBQUEsR0FBSSxRQUFRLENBQUMsY0FBVCxDQUF3QixLQUF4QjtFQUNKLENBQUMsQ0FBQyxNQUFGLEdBQVc7RUFDWCxDQUFDLENBQUMsS0FBRixHQUFVLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBYixDQUFBO0VBQ1YsQ0FBQyxDQUFDLEtBQUYsQ0FBQTtFQUNBLENBQUMsQ0FBQyxNQUFGLENBQUE7RUFDQSxRQUFRLENBQUMsV0FBVCxDQUFxQixNQUFyQjtFQUNBLENBQUMsQ0FBQyxNQUFGLEdBQVc7U0FDWCxNQUFNLENBQUMsSUFBUCxDQUFZLEdBQVosRUFBaUIsUUFBakI7QUFUUzs7QUFXVixPQUFBLEdBQVUsQ0FBQSxDQUFBLEdBQUE7QUFDVixNQUFBO0VBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFiLENBQUE7RUFDQSxPQUFBLEdBQVUsTUFBTSxDQUFDLE9BQVAsR0FBZSxFQUFmLEdBQW9CLE1BQU0sQ0FBQztTQUNyQyxNQUFNLENBQUMsTUFBUCxHQUFnQixDQUFDLE9BQUQsRUFBUyxPQUFUO0FBSFA7O0FBS1YsT0FBQSxJQUFPLEtBQUEsR0FBUSxRQUFBLENBQUEsQ0FBQSxFQUFBO0VBQ2QsTUFBTSxDQUFDLFFBQVAsR0FBa0IsSUFBSSxRQUFKLENBQUE7RUFDbEIsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFoQixDQUFvQixhQUFwQixFQUFtQyxRQUFBLENBQUEsQ0FBQTtJ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LFFBQUEsQ0FBQyxTQUFELENBQUE7QUFDZixNQUFBO0VBQUMsTUFBTSxDQUFDLFNBQVAsR0FBbUI7RUFDbkIsT0FBQSxHQUFVLE1BQU0sQ0FBQyxPQUFQLEdBQWUsRUFBZixHQUFvQixNQUFNLENBQUM7RUFDckMsTUFBTSxDQUFDLE1BQVAsR0FBZ0IsQ0FBQyxPQUFELEVBQVMsT0FBVDtTQUNoQixNQUFNLENBQUMsU0FBUyxDQUFDLEdBQWpCLENBQUE7QUFKYzs7QUFNZixPQUFBLElBQU8sS0FBQSxHQUFRLFFBQUEsQ0FBQSxDQUFBLEVBQUE7QUFDZixNQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsQ0FBQSxFQUFBO0VBQUMsTUFBTSxDQUFDLFFBQVAsR0FBa0IsSUFBSSxRQUFKLENBQUE7QUFDbEI7RUFBQSxLQUFBLHFDQUFBOztJQUNJLENBQUEsUUFBQSxDQUFDLENBQUQsQ0FBQTthQUFPLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBaEIsQ0FBb0IsQ0FBQyxDQUFDLFFBQUYsQ0FBQSxDQUFwQixFQUFrQyxRQUFBLENBQUEsQ0FBQTtlQUFHLFlBQUEsQ0FBYSxDQUFiO01BQUgsQ0FBbEM7SUFBUCxDQUFBLEVBQUM7RUFETDtFQUVBLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBaEIsQ0FBQTtTQUNBLE1BQU0sQ0FBQyxRQUFRLENBQUMsUUFBaEIsSUFBNEI7QUFMZCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Z2xvYmFsfSBmcm9tICcuLi9qcy9nbG9iYWxzLmpzJ1xyXG5pbXBvcnQge0RpYWxvZ3VlfSBmcm9tICcuLi9qcy9kaWFsb2d1ZS5qcydcclxuaW1wb3J0IHtlbnRlckZ1bGxzY3JlZW59IGZyb20gJy4uL2pzL3V0aWxzLmpzJ1xyXG5cclxuYW5hbHl6ZSA9ICh1cmwpID0+XHJcblxyXG5cdGEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCAncGduJ1xyXG5cdGEuaGlkZGVuID0gZmFsc2VcclxuXHRhLnZhbHVlID0gZ2xvYmFsLmNoZXNzLnBnbigpXHJcblx0YS5mb2N1cygpXHJcblx0YS5zZWxlY3QoKVxyXG5cdGRvY3VtZW50LmV4ZWNDb21tYW5kICdjb3B5J1xyXG5cdGEuaGlkZGVuID0gdHJ1ZVxyXG5cdHdpbmRvdy5vcGVuIHVybCwgXCJfYmxhbmtcIlxyXG5cclxubmV3R2FtZSA9ID0+XHJcblx0Z2xvYmFsLmNoZXNzLnJlc2V0KClcclxuXHRzZWNvbmRzID0gZ2xvYmFsLm1pbnV0ZXMqNjAgKyBnbG9iYWwuaW5jcmVtZW50XHJcblx0Z2xvYmFsLmNsb2NrcyA9IFtzZWNvbmRzLHNlY29uZHNdXHJcblxyXG5leHBvcnQgbWVudTAgPSAtPiAjIE1haW4gTWVudVxyXG5cdGdsb2JhbC5kaWFsb2d1ZSA9IG5ldyBEaWFsb2d1ZSgpXHJcblx0Z2xvYmFsLmRpYWxvZ3VlLmFkZCAnRnVsbCBTY3JlZW4nLCAtPlxyXG5cdFx0ZW50ZXJGdWxsc2NyZWVuKClcclxuXHRcdGdsb2JhbC5kaWFsb2d1ZXMuY2xlYXIoKVxyXG5cdGdsb2JhbC5kaWFsb2d1ZS5hZGQgJ0ZsaXAnLCAtPiBnbG9iYWwuZGlhbG9ndWVzLmNsZWFyKClcclxuXHRnbG9iYWwuZGlhbG9ndWUuYWRkICdJbmNyZW1lbnQuLi4nLCAtPiBtZW51MigpXHJcblx0Z2xvYmFsLmRpYWxvZ3VlLmFkZCAnTGljaGVzcycsIC0+XHJcblx0XHRhbmFseXplIFwiaHR0cHM6Ly9saWNoZXNzLm9yZy9wYXN0ZVwiXHJcblx0XHRnbG9iYWwuZGlhbG9ndWVzLmNsZWFyKClcclxuXHRnbG9iYWwuZGlhbG9ndWUuYWRkICdjaGVzcy5jb20nLCAtPlxyXG5cdFx0YW5hbHl6ZSBcImh0dHBzOi8vY2hlc3MuY29tL2FuYWx5c2lzXCJcclxuXHRcdGdsb2JhbC5kaWFsb2d1ZXMuY2xlYXIoKVxyXG5cdGdsb2JhbC5kaWFsb2d1ZS5hZGQgJ01pbnV0ZXMuLi4nLCAtPiBtZW51MSgpXHJcblx0Z2xvYmFsLmRpYWxvZ3VlLmFkZCAnTmV3IEdhbWUnLCAtPlxyXG5cdFx0bmV3R2FtZSgpXHJcblx0XHRzZWNvbmRzID0gZ2xvYmFsLm1pbnV0ZXMqNjAgKyBnbG9iYWwuaW5jcmVtZW50XHJcblx0XHRnbG9iYWwuY2xvY2tzID0gW3NlY29uZHMsIHNlY29uZHNdXHJcblx0XHRjb25zb2xlLmxvZyAnbmV3R2FtZScsZ2xvYmFsLm1pbnV0ZXMsZ2xvYmFsLmluY3JlbWVudFxyXG5cdFx0Z2xvYmFsLmRpYWxvZ3Vlcy5jbGVhcigpXHJcblx0Z2xvYmFsLmRpYWxvZ3VlLmFkZCAnVW5kbycsIC0+XHJcblx0XHRnbG9iYWwuY2hlc3MudW5kbygpXHJcblx0XHRnbG9iYWwuZGlhbG9ndWVzLmNsZWFyKClcclxuXHJcblx0Z2xvYmFsLmRpYWxvZ3VlLmNsb2NrICcgJyx0cnVlXHJcblx0Z2xvYmFsLmRpYWxvZ3VlLnRleHRTaXplICo9IDEuNVxyXG5cclxuc2V0TWludXRlcz0gKG1pbnV0ZXMpIC0+XHJcblx0Z2xvYmFsLm1pbnV0ZXMgPSBtaW51dGVzXHJcblx0c2Vjb25kcyA9IG1pbnV0ZXMqNjAgKyBnbG9iYWwuaW5jcmVtZW50XHJcblx0Z2xvYmFsLmNsb2NrcyA9IFtzZWNvbmRzLHNlY29uZHNdXHJcblx0Z2xvYmFsLmRpYWxvZ3Vlcy5wb3AoKVxyXG5cclxuZXhwb3J0IG1lbnUxID0gLT4gIyBNaW51dGVzLi4uXHJcblx0Z2xvYmFsLmRpYWxvZ3VlID0gbmV3IERpYWxvZ3VlKClcclxuXHRmb3IgbiBpbiBbMSwyLDMsNSwxMCwxNSwyMCwzMCw0NSw2MCw5MF1cclxuXHRcdGRvIChuKSAtPiBnbG9iYWwuZGlhbG9ndWUuYWRkIG4udG9TdHJpbmcoKSwgLT4gc2V0TWludXRlcyBuXHJcblx0Z2xvYmFsLmRpYWxvZ3VlLmNsb2NrKClcclxuXHRnbG9iYWwuZGlhbG9ndWUudGV4dFNpemUgKj0gMC41XHJcblxyXG5zZXRJbmNyZW1lbnQgPSAoaW5jcmVtZW50KSAtPlxyXG5cdGdsb2JhbC5pbmNyZW1lbnQgPSBpbmNyZW1lbnRcclxuXHRzZWNvbmRzID0gZ2xvYmFsLm1pbnV0ZXMqNjAgKyBnbG9iYWwuaW5jcmVtZW50XHJcblx0Z2xvYmFsLmNsb2NrcyA9IFtzZWNvbmRzLHNlY29uZHNdXHJcblx0Z2xvYmFsLmRpYWxvZ3Vlcy5wb3AoKVxyXG5cclxuZXhwb3J0IG1lbnUyID0gLT4gIyBJbmNyZW1lbnQuLi5cclxuXHRnbG9iYWwuZGlhbG9ndWUgPSBuZXcgRGlhbG9ndWUoKVxyXG5cdGZvciBuIGluIFswLDEsMiwzLDUsMTAsMTUsMjAsMzAsNDAsNTBdXHJcblx0XHRkbyAobikgLT4gZ2xvYmFsLmRpYWxvZ3VlLmFkZCBuLnRvU3RyaW5nKCksIC0+IHNldEluY3JlbWVudCBuXHJcblx0Z2xvYmFsLmRpYWxvZ3VlLmNsb2NrKClcclxuXHRnbG9iYWwuZGlhbG9ndWUudGV4dFNpemUgKj0gMC41XHJcbiJdfQ==
//# sourceURL=c:\github\2023-026-chessx2\coffee\menus.coffee