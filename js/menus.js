// Generated by CoffeeScript 2.5.1
var newGame, setIncrement, setMinutes;

import {
  global
} from '../js/globals.js';

import {
  Dialogue
} from '../js/dialogue.js';

import {
  enterFullscreen
} from '../js/utils.js';

// sendMail = (subject,body) ->
// 	body += "\n\n"
// 	if subject == ""
// 		d = new Date()
// 		subject = d.toLocaleString 'sv-SE'
// 	m = "janchrister.nilsson@gmail.com"
// 	mail = document.getElementById "mail"
// 	mail.href = "mailto:" + m + "?subject=" + encodeURIComponent(subject) + "&body=" + encodeURIComponent(body) # encodeURI 
// 	console.log mail.href
// 	mail.click()
newGame = () => {
  var seconds;
  global.chess.reset();
  seconds = global.minutes * 60 + global.increment;
  return global.clocks = [seconds, seconds];
};

export var menu0 = function() { // Main Menu
  global.dialogue = new Dialogue();
  global.dialogue.add('Full Screen', function() {
    enterFullscreen();
    return global.dialogues.clear();
  });
  global.dialogue.add('Flip', function() {
    return global.dialogues.clear();
  });
  global.dialogue.add('Increment...', function() {
    return menu2();
  });
  global.dialogue.add('Analyze', function() {
    var a;
    a = document.getElementById('pgn');
    a.hidden = false;
    a.value = global.chess.pgn();
    a.select();
    document.execCommand('copy');
    a.hidden = true;
    //		window.location.href = 'https://lichess.org/paste'
    return window.open("https://lichess.org/paste", "_blank");
  });
  global.dialogue.add('Minutes...', function() {
    return menu1();
  });
  global.dialogue.add('New Game', function() {
    var seconds;
    newGame();
    seconds = global.minutes * 60 + global.increment;
    global.clocks = [seconds, seconds];
    console.log('newGame', global.minutes, global.increment);
    return global.dialogues.clear();
  });
  global.dialogue.clock(' ', true);
  return global.dialogue.textSize *= 1.5;
};

setMinutes = function(minutes) {
  var seconds;
  global.minutes = minutes;
  seconds = minutes * 60 + global.increment;
  global.clocks = [seconds, seconds];
  return global.dialogues.pop();
};

export var menu1 = function() { // Minutes...
  var i, len, n, ref;
  global.dialogue = new Dialogue();
  ref = [1, 2, 3, 5, 10, 15, 20, 30, 45, 60, 90];
  for (i = 0, len = ref.length; i < len; i++) {
    n = ref[i];
    (function(n) {
      return global.dialogue.add(n.toString(), function() {
        return setMinutes(n);
      });
    })(n);
  }
  global.dialogue.clock();
  return global.dialogue.textSize *= 0.5;
};

setIncrement = function(increment) {
  var seconds;
  global.increment = increment;
  seconds = global.minutes * 60 + global.increment;
  global.clocks = [seconds, seconds];
  return global.dialogues.pop();
};

export var menu2 = function() { // Increment...
  var i, len, n, ref;
  global.dialogue = new Dialogue();
  ref = [0, 1, 2, 3, 5, 10, 15, 20, 30, 40, 50];
  for (i = 0, len = ref.length; i < len; i++) {
    n = ref[i];
    (function(n) {
      return global.dialogue.add(n.toString(), function() {
        return setIncrement(n);
      });
    })(n);
  }
  global.dialogue.clock();
  return global.dialogue.textSize *= 0.5;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVudXMuanMiLCJzb3VyY2VSb290IjoiLi4iLCJzb3VyY2VzIjpbImNvZmZlZVxcbWVudXMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBLE9BQUEsRUFBQSxZQUFBLEVBQUE7O0FBQUEsT0FBQTtFQUFRLE1BQVI7Q0FBQSxNQUFBOztBQUNBLE9BQUE7RUFBUSxRQUFSO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVEsZUFBUjtDQUFBLE1BQUEsaUJBRkE7Ozs7Ozs7Ozs7OztBQWVBLE9BQUEsR0FBVSxDQUFBLENBQUEsR0FBQTtBQUNWLE1BQUE7RUFBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQWIsQ0FBQTtFQUNBLE9BQUEsR0FBVSxNQUFNLENBQUMsT0FBUCxHQUFlLEVBQWYsR0FBb0IsTUFBTSxDQUFDO1NBQ3JDLE1BQU0sQ0FBQyxNQUFQLEdBQWdCLENBQUMsT0FBRCxFQUFTLE9BQVQ7QUFIUDs7QUFLVixPQUFBLElBQU8sS0FBQSxHQUFRLFFBQUEsQ0FBQSxDQUFBLEVBQUE7RUFDZCxNQUFNLENBQUMsUUFBUCxHQUFrQixJQUFJLFFBQUosQ0FBQTtFQUNsQixNQUFNLENBQUMsUUFBUSxDQUFDLEdBQWhCLENBQW9CLGFBQXBCLEVBQW1DLFFBQUEsQ0FBQSxDQUFBO0lBQ2xDLGVBQUEsQ0FBQTtXQUNBLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBakIsQ0FBQTtFQUZrQyxDQUFuQztFQUdBLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBaEIsQ0FBb0IsTUFBcEIsRUFBNEIsUUFBQSxDQUFBLENBQUE7V0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLEtBQWpCLENBQUE7RUFBSCxDQUE1QjtFQUNBLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBaEIsQ0FBb0IsY0FBcEIsRUFBb0MsUUFBQSxDQUFBLENBQUE7V0FBRyxLQUFBLENBQUE7RUFBSCxDQUFwQztFQUNBLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBaEIsQ0FBb0IsU0FBcEIsRUFBK0IsUUFB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LENBQUMsUUFBUSxDQUFDLEdBQWhCLENBQW9CLENBQUMsQ0FBQyxRQUFGLENBQUEsQ0FBcEIsRUFBa0MsUUFBQSxDQUFBLENBQUE7ZUFBRyxZQUFBLENBQWEsQ0FBYjtNQUFILENBQWxDO0lBQVAsQ0FBQSxFQUFDO0VBREw7RUFFQSxNQUFNLENBQUMsUUFBUSxDQUFDLEtBQWhCLENBQUE7U0FDQSxNQUFNLENBQUMsUUFBUSxDQUFDLFFBQWhCLElBQTRCO0FBTGQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2dsb2JhbH0gZnJvbSAnLi4vanMvZ2xvYmFscy5qcydcclxuaW1wb3J0IHtEaWFsb2d1ZX0gZnJvbSAnLi4vanMvZGlhbG9ndWUuanMnXHJcbmltcG9ydCB7ZW50ZXJGdWxsc2NyZWVufSBmcm9tICcuLi9qcy91dGlscy5qcydcclxuXHJcbiMgc2VuZE1haWwgPSAoc3ViamVjdCxib2R5KSAtPlxyXG4jIFx0Ym9keSArPSBcIlxcblxcblwiXHJcbiMgXHRpZiBzdWJqZWN0ID09IFwiXCJcclxuIyBcdFx0ZCA9IG5ldyBEYXRlKClcclxuIyBcdFx0c3ViamVjdCA9IGQudG9Mb2NhbGVTdHJpbmcgJ3N2LVNFJ1xyXG4jIFx0bSA9IFwiamFuY2hyaXN0ZXIubmlsc3NvbkBnbWFpbC5jb21cIlxyXG4jIFx0bWFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwibWFpbFwiXHJcbiMgXHRtYWlsLmhyZWYgPSBcIm1haWx0bzpcIiArIG0gKyBcIj9zdWJqZWN0PVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHN1YmplY3QpICsgXCImYm9keT1cIiArIGVuY29kZVVSSUNvbXBvbmVudChib2R5KSAjIGVuY29kZVVSSSBcclxuIyBcdGNvbnNvbGUubG9nIG1haWwuaHJlZlxyXG4jIFx0bWFpbC5jbGljaygpXHJcblxyXG5uZXdHYW1lID0gPT5cclxuXHRnbG9iYWwuY2hlc3MucmVzZXQoKVxyXG5cdHNlY29uZHMgPSBnbG9iYWwubWludXRlcyo2MCArIGdsb2JhbC5pbmNyZW1lbnRcclxuXHRnbG9iYWwuY2xvY2tzID0gW3NlY29uZHMsc2Vjb25kc11cclxuXHJcbmV4cG9ydCBtZW51MCA9IC0+ICMgTWFpbiBNZW51XHJcblx0Z2xvYmFsLmRpYWxvZ3VlID0gbmV3IERpYWxvZ3VlKClcclxuXHRnbG9iYWwuZGlhbG9ndWUuYWRkICdGdWxsIFNjcmVlbicsIC0+XHJcblx0XHRlbnRlckZ1bGxzY3JlZW4oKVxyXG5cdFx0Z2xvYmFsLmRpYWxvZ3Vlcy5jbGVhcigpXHJcblx0Z2xvYmFsLmRpYWxvZ3VlLmFkZCAnRmxpcCcsIC0+IGdsb2JhbC5kaWFsb2d1ZXMuY2xlYXIoKVxyXG5cdGdsb2JhbC5kaWFsb2d1ZS5hZGQgJ0luY3JlbWVudC4uLicsIC0+IG1lbnUyKClcclxuXHRnbG9iYWwuZGlhbG9ndWUuYWRkICdBbmFseXplJywgLT5cclxuXHRcdGEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCAncGduJ1xyXG5cdFx0YS5oaWRkZW4gPSBmYWxzZVxyXG5cdFx0YS52YWx1ZSA9IGdsb2JhbC5jaGVzcy5wZ24oKVxyXG5cdFx0YS5zZWxlY3QoKVxyXG5cdFx0ZG9jdW1lbnQuZXhlY0NvbW1hbmQgJ2NvcHknXHJcblx0XHRhLmhpZGRlbiA9IHRydWVcclxuI1x0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9ICdodHRwczovL2xpY2hlc3Mub3JnL3Bhc3RlJ1xyXG5cdFx0d2luZG93Lm9wZW4gXCJodHRwczovL2xpY2hlc3Mub3JnL3Bhc3RlXCIsIFwiX2JsYW5rXCJcclxuXHJcblx0Z2xvYmFsLmRpYWxvZ3VlLmFkZCAnTWludXRlcy4uLicsIC0+IG1lbnUxKClcclxuXHRnbG9iYWwuZGlhbG9ndWUuYWRkICdOZXcgR2FtZScsIC0+XHJcblx0XHRuZXdHYW1lKClcclxuXHRcdHNlY29uZHMgPSBnbG9iYWwubWludXRlcyo2MCArIGdsb2JhbC5pbmNyZW1lbnRcclxuXHRcdGdsb2JhbC5jbG9ja3MgPSBbc2Vjb25kcywgc2Vjb25kc11cclxuXHRcdGNvbnNvbGUubG9nICduZXdHYW1lJyxnbG9iYWwubWludXRlcyxnbG9iYWwuaW5jcmVtZW50XHJcblx0XHRnbG9iYWwuZGlhbG9ndWVzLmNsZWFyKClcclxuXHJcblx0Z2xvYmFsLmRpYWxvZ3VlLmNsb2NrICcgJyx0cnVlXHJcblx0Z2xvYmFsLmRpYWxvZ3VlLnRleHRTaXplICo9IDEuNVxyXG5cclxuc2V0TWludXRlcz0gKG1pbnV0ZXMpIC0+XHJcblx0Z2xvYmFsLm1pbnV0ZXMgPSBtaW51dGVzXHJcblx0c2Vjb25kcyA9IG1pbnV0ZXMqNjAgKyBnbG9iYWwuaW5jcmVtZW50XHJcblx0Z2xvYmFsLmNsb2NrcyA9IFtzZWNvbmRzLHNlY29uZHNdXHJcblx0Z2xvYmFsLmRpYWxvZ3Vlcy5wb3AoKVxyXG5cclxuZXhwb3J0IG1lbnUxID0gLT4gIyBNaW51dGVzLi4uXHJcblx0Z2xvYmFsLmRpYWxvZ3VlID0gbmV3IERpYWxvZ3VlKClcclxuXHRmb3IgbiBpbiBbMSwyLDMsNSwxMCwxNSwyMCwzMCw0NSw2MCw5MF1cclxuXHRcdGRvIChuKSAtPiBnbG9iYWwuZGlhbG9ndWUuYWRkIG4udG9TdHJpbmcoKSwgLT4gc2V0TWludXRlcyBuXHJcblx0Z2xvYmFsLmRpYWxvZ3VlLmNsb2NrKClcclxuXHRnbG9iYWwuZGlhbG9ndWUudGV4dFNpemUgKj0gMC41XHJcblxyXG5zZXRJbmNyZW1lbnQgPSAoaW5jcmVtZW50KSAtPlxyXG5cdGdsb2JhbC5pbmNyZW1lbnQgPSBpbmNyZW1lbnRcclxuXHRzZWNvbmRzID0gZ2xvYmFsLm1pbnV0ZXMqNjAgKyBnbG9iYWwuaW5jcmVtZW50XHJcblx0Z2xvYmFsLmNsb2NrcyA9IFtzZWNvbmRzLHNlY29uZHNdXHJcblx0Z2xvYmFsLmRpYWxvZ3Vlcy5wb3AoKVxyXG5cclxuZXhwb3J0IG1lbnUyID0gLT4gIyBJbmNyZW1lbnQuLi5cclxuXHRnbG9iYWwuZGlhbG9ndWUgPSBuZXcgRGlhbG9ndWUoKVxyXG5cdGZvciBuIGluIFswLDEsMiwzLDUsMTAsMTUsMjAsMzAsNDAsNTBdXHJcblx0XHRkbyAobikgLT4gZ2xvYmFsLmRpYWxvZ3VlLmFkZCBuLnRvU3RyaW5nKCksIC0+IHNldEluY3JlbWVudCBuXHJcblx0Z2xvYmFsLmRpYWxvZ3VlLmNsb2NrKClcclxuXHRnbG9iYWwuZGlhbG9ndWUudGV4dFNpemUgKj0gMC41XHJcbiJdfQ==
//# sourceURL=c:\github\2023-026-chessx2\coffee\menus.coffee