// Generated by CoffeeScript 2.5.1
var newGame, sendMail, setIncrement, setMinutes;

import {
  global
} from '../js/globals.js';

import {
  Dialogue
} from '../js/dialogue.js';

import {
  enterFullscreen
} from '../js/utils.js';

sendMail = function(subject, body) {
  var d, m, mail;
  body += "\n\n";
  if (subject === "") {
    d = new Date();
    subject = d.toLocaleString('sv-SE');
  }
  m = "janchrister.nilsson@gmail.com";
  mail = document.getElementById("mail");
  mail.href = "mailto:" + m + "?subject=" + encodeURIComponent(subject) + "&body=" + encodeURIComponent(body); // encodeURI 
  console.log(mail.href);
  return mail.click();
};

newGame = () => {
  var seconds;
  global.chess.reset();
  seconds = global.minutes * 60 + global.increment;
  return global.clocks = [seconds, seconds];
};

export var menu0 = function() { // Main Menu
  global.dialogue = new Dialogue();
  global.dialogue.add('Full Screen', function() {
    enterFullscreen();
    return global.dialogues.clear();
  });
  global.dialogue.add('Flip', function() {
    return global.dialogues.clear();
  });
  global.dialogue.add('Increment...', function() {
    return menu2();
  });
  global.dialogue.add('Send PGN', function() {
    return sendMail("", global.chess.pgn());
  });
  global.dialogue.add('Minutes...', function() {
    return menu1();
  });
  global.dialogue.add('New Game', function() {
    var seconds;
    newGame();
    seconds = global.minutes * 60 + global.increment;
    global.clocks = [seconds, seconds];
    console.log('newGame', global.minutes, global.increment);
    return global.dialogues.clear();
  });
  global.dialogue.clock(' ', true);
  return global.dialogue.textSize *= 1.5;
};

setMinutes = function(minutes) {
  var seconds;
  global.minutes = minutes;
  seconds = minutes * 60 + global.increment;
  global.clocks = [seconds, seconds];
  return global.dialogues.pop();
};

export var menu1 = function() { // Minutes...
  var i, len, n, ref;
  global.dialogue = new Dialogue();
  ref = [1, 2, 3, 5, 10, 15, 20, 30, 45, 60, 90];
  for (i = 0, len = ref.length; i < len; i++) {
    n = ref[i];
    (function(n) {
      return global.dialogue.add(n.toString(), function() {
        return setMinutes(n);
      });
    })(n);
  }
  global.dialogue.clock();
  return global.dialogue.textSize *= 0.5;
};

setIncrement = function(increment) {
  var seconds;
  global.increment = increment;
  seconds = global.minutes * 60 + global.increment;
  global.clocks = [seconds, seconds];
  return global.dialogues.pop();
};

export var menu2 = function() { // Increment...
  var i, len, n, ref;
  global.dialogue = new Dialogue();
  ref = [0, 1, 2, 3, 5, 10, 15, 20, 30, 40, 50];
  for (i = 0, len = ref.length; i < len; i++) {
    n = ref[i];
    (function(n) {
      return global.dialogue.add(n.toString(), function() {
        return setIncrement(n);
      });
    })(n);
  }
  global.dialogue.clock();
  return global.dialogue.textSize *= 0.5;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVudXMuanMiLCJzb3VyY2VSb290IjoiLi4iLCJzb3VyY2VzIjpbImNvZmZlZVxcbWVudXMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBLE9BQUEsRUFBQSxRQUFBLEVBQUEsWUFBQSxFQUFBOztBQUFBLE9BQUE7RUFBUSxNQUFSO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVEsUUFBUjtDQUFBLE1BQUE7O0FBQ0EsT0FBQTtFQUFRLGVBQVI7Q0FBQSxNQUFBOztBQUVBLFFBQUEsR0FBVyxRQUFBLENBQUMsT0FBRCxFQUFTLElBQVQsQ0FBQTtBQUNYLE1BQUEsQ0FBQSxFQUFBLENBQUEsRUFBQTtFQUFDLElBQUEsSUFBUTtFQUNSLElBQUcsT0FBQSxLQUFXLEVBQWQ7SUFDQyxDQUFBLEdBQUksSUFBSSxJQUFKLENBQUE7SUFDSixPQUFBLEdBQVUsQ0FBQyxDQUFDLGNBQUYsQ0FBaUIsT0FBakIsRUFGWDs7RUFHQSxDQUFBLEdBQUk7RUFDSixJQUFBLEdBQU8sUUFBUSxDQUFDLGNBQVQsQ0FBd0IsTUFBeEI7RUFDUCxJQUFJLENBQUMsSUFBTCxHQUFZLFNBQUEsR0FBWSxDQUFaLEdBQWdCLFdBQWhCLEdBQThCLGtCQUFBLENBQW1CLE9BQW5CLENBQTlCLEdBQTRELFFBQTVELEdBQXVFLGtCQUFBLENBQW1CLElBQW5CLEVBTnBGO0VBT0MsT0FBTyxDQUFDLEdBQVIsQ0FBWSxJQUFJLENBQUMsSUFBakI7U0FDQSxJQUFJLENBQUMsS0FBTCxDQUFBO0FBVFU7O0FBV1gsT0FBQSxHQUFVLENBQUEsQ0FBQSxHQUFBO0FBQ1YsTUFBQTtFQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBYixDQUFBO0VBQ0EsT0FBQSxHQUFVLE1BQU0sQ0FBQyxPQUFQLEdBQWUsRUFBZixHQUFvQixNQUFNLENBQUM7U0FDckMsTUFBTSxDQUFDLE1BQVAsR0FBZ0IsQ0FBQyxPQUFELEVBQVMsT0FBVDtBQUhQOztBQUtWLE9BQUEsSUFBTyxLQUFBLEdBQVEsUUFBQSxDQUFBLENBQUEsRUFBQTtFQUNkLE1BQU0sQ0FBQyxRQUFQLEdBQWtCLElBQUksUUFBSixDQUFBO0VBQ2xCLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBaEIsQ0FBb0IsYUFBcEIsRUFBbUMsUUFBQSxDQUFBLENBQUE7SUFDbEMsZUFBQSxDQUFBO1dBQ0EsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFqQixDQUFBO0VBRmtDLENBQW5DO0VBR0EsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFoQixDQUFvQixNQUFwQixFQUE0QixRQUFBLENBQUEsQ0FBQTtXQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBakIsQ0FBQTtFQUFILENBQTVCO0VBQ0EsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFoQixDQUFvQixjQUFwQixFQUFvQyxRQUFBLENBQUEsQ0FBQTtXQUFHLEtBQUEsQ0FBQTtFQUFILENBQXBDO0VBQ0EsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFoQixDQUFvQixVQUFwQixFQUFnQyxRQUFBLENBQUEsQ0FBQTtXQUFHLFFBQUEsQ0FBUyxFQUFULEVBQWEsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFiLENBQUEsQ0FBYjtFQUFILENBQWhDO0VBQ0EsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFoQixDQUFvQixZQUFwQixFQUFrQyxRQUFBLENBQUEsQ0FBQTtXQUFHLEtBQUEsQ0FBQTtFQUFILENBQWxDO0VBQ0EsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFoQixDQUFvQixVQUFwQixFQUFnQyxRQUFBLENBQUEsQ0FBQTtBQUNqQyxRQUFBO0lBQUUsT0FBQSxDQUFBO0lBQ0EsT0FBQSxHQUFVLE1BQU0sQ0FBQyxPQUFQLEdBQWUsRUFBZixHQUFvQixNQUFNLENBQUM7SUFDckMsTUFBTSxDQUFDLE1BQVAsR0FBZ0IsQ0FBQyxPQUFELEVBQVUsT0FBVjtJQUNoQixPQUFPLENBQUMsR0FBUixDQUFZLFNBQVosRUFBc0IsTUFBTSxDQUFDLE9BQTdCLEVBQXFDLE1BQU0sQ0FBQyxTQUE1QztXQUNBLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBakIsQ0FBQTtFQUwrQixDQUFoQztFQU9BLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBaEIsQ0FBc0IsR0FBdEIsRUFBMEIsSUFBMUI7U0FDQSxNQUFNLENBQUMsUUFBUSxDQUFDLFFBQWhCLElBQTRCO0FBakJkOztBQW1CZixVQUFBLEdBQVksUUFBQSxDQUFDLE9BQUQsQ0FBQTtBQUNaLE1BQUE7RUFBQyxNQUFNLENBQUMsT0FBUCxHQUFpQjtFQUNqQixPQUFBLEdBQVUsT0FBQSxHQUFRLEVBQVIsR0FBYSxNQUFNLENBQUM7RUFDOUIsTUFBTSxDQUFDLE1BQVAsR0FBZ0IsQ0FBQyxPQUFELEVBQVMsT0FBVDtTQUNoQixNQUFNLENBQUMsU0FBUyxDQUFDLEdBQWpCLENBQUE7QUFKVzs7QUFNWixPQUFBLElBQU8sS0FBQSxHQUFRLFFBQUEsQ0FBQSxDQUFBLEVBQUE7QUFDZixNQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsQ0FBQSxFQUFBO0VBQUMsTUFBTSxDQUFDLFFBQVAsR0FBa0IsSUFBSSxRQUFKLENBQUE7QUFDbEI7RUFBQSxLQUFBLHFDQUFBOztJQUNJLENBQUEsUUFBQSxDQUFDLENBQUQsQ0FBQTthQUFPLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBaEIsQ0FBb0IsQ0FBQyxDQUFDLFFBQUYsQ0FBQSxDQUFwQixFQUFrQyxRQUFBLENBQUEsQ0FBQTtlQUFHLFVBQUEsQ0FBVyxDQUFYO01BQUgsQ0FBbEM7SUFBUCxDQUFBLEVBQUM7RUFETDtFQUVBLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBaEIsQ0FBQTtTQUNBLE1BQU0sQ0FBQyxRQUFRLENBQUMsUUFBaEIsSUFBNEI7QUFMZDs7QUFPZixZQUFBLEdBQWUsUUFBQSxDQUFDLFNBQUQsQ0FBQTtBQUNmLE1BQUE7RUFBQyxNQUFNLENBQUMsU0FBUCxHQUFtQjtFQUNuQixPQUFBLEdBQVUsTUFBTSxDQUFDLE9BQVAsR0FBZSxFQUFmLEdBQW9CLE1BQU0sQ0FBQztFQUNyQyxNQUFNLENBQUMsTUFBUCxHQUFnQixDQUFDLE9BQUQsRUFBUyxPQUFUO1NBQ2hCLE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBakIsQ0FBQTtBQUpjOztBQU1mLE9BQUEsSUFBTyxLQUFBLEdBQVEsUUFBQSxDQUFBLENBQUEsRUFBQTtBQUNmLE1BQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxDQUFBLEVBQUE7RUFBQyxNQUFNLENBQUMsUUFBUCxHQUFrQixJQUFJLFFBQUosQ0FBQTtBQUNsQjtFQUFBLEtBQUEscUNBQUE7O0lBQ0ksQ0FBQSxRQUFBLENBQUMsQ0FBRCxDQUFBO2FBQU8sTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFoQixDQUFvQixDQUFDLENBQUMsUUFBRixDQUFBLENBQXBCLEVBQWtDLFFBQUEsQ0FBQSxDQUFBO2VBQUcsWUFBQSxDQUFhLENBQWI7TUFBSCxDQUFsQztJQUFQLENBQUEsRUFBQztFQURMO0VBRUEsTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFoQixDQUFBO1NBQ0EsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFoQixJQUE0QjtBQUxkIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtnbG9iYWx9IGZyb20gJy4uL2pzL2dsb2JhbHMuanMnXHJcbmltcG9ydCB7RGlhbG9ndWV9IGZyb20gJy4uL2pzL2RpYWxvZ3VlLmpzJ1xyXG5pbXBvcnQge2VudGVyRnVsbHNjcmVlbn0gZnJvbSAnLi4vanMvdXRpbHMuanMnXHJcblxyXG5zZW5kTWFpbCA9IChzdWJqZWN0LGJvZHkpIC0+XHJcblx0Ym9keSArPSBcIlxcblxcblwiXHJcblx0aWYgc3ViamVjdCA9PSBcIlwiXHJcblx0XHRkID0gbmV3IERhdGUoKVxyXG5cdFx0c3ViamVjdCA9IGQudG9Mb2NhbGVTdHJpbmcgJ3N2LVNFJ1xyXG5cdG0gPSBcImphbmNocmlzdGVyLm5pbHNzb25AZ21haWwuY29tXCJcclxuXHRtYWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJtYWlsXCJcclxuXHRtYWlsLmhyZWYgPSBcIm1haWx0bzpcIiArIG0gKyBcIj9zdWJqZWN0PVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHN1YmplY3QpICsgXCImYm9keT1cIiArIGVuY29kZVVSSUNvbXBvbmVudChib2R5KSAjIGVuY29kZVVSSSBcclxuXHRjb25zb2xlLmxvZyBtYWlsLmhyZWZcclxuXHRtYWlsLmNsaWNrKClcclxuXHJcbm5ld0dhbWUgPSA9PlxyXG5cdGdsb2JhbC5jaGVzcy5yZXNldCgpXHJcblx0c2Vjb25kcyA9IGdsb2JhbC5taW51dGVzKjYwICsgZ2xvYmFsLmluY3JlbWVudFxyXG5cdGdsb2JhbC5jbG9ja3MgPSBbc2Vjb25kcyxzZWNvbmRzXVxyXG5cclxuZXhwb3J0IG1lbnUwID0gLT4gIyBNYWluIE1lbnVcclxuXHRnbG9iYWwuZGlhbG9ndWUgPSBuZXcgRGlhbG9ndWUoKVxyXG5cdGdsb2JhbC5kaWFsb2d1ZS5hZGQgJ0Z1bGwgU2NyZWVuJywgLT5cclxuXHRcdGVudGVyRnVsbHNjcmVlbigpXHJcblx0XHRnbG9iYWwuZGlhbG9ndWVzLmNsZWFyKClcclxuXHRnbG9iYWwuZGlhbG9ndWUuYWRkICdGbGlwJywgLT4gZ2xvYmFsLmRpYWxvZ3Vlcy5jbGVhcigpXHJcblx0Z2xvYmFsLmRpYWxvZ3VlLmFkZCAnSW5jcmVtZW50Li4uJywgLT4gbWVudTIoKVxyXG5cdGdsb2JhbC5kaWFsb2d1ZS5hZGQgJ1NlbmQgUEdOJywgLT4gc2VuZE1haWwgXCJcIiwgZ2xvYmFsLmNoZXNzLnBnbigpXHJcblx0Z2xvYmFsLmRpYWxvZ3VlLmFkZCAnTWludXRlcy4uLicsIC0+IG1lbnUxKClcclxuXHRnbG9iYWwuZGlhbG9ndWUuYWRkICdOZXcgR2FtZScsIC0+XHJcblx0XHRuZXdHYW1lKClcclxuXHRcdHNlY29uZHMgPSBnbG9iYWwubWludXRlcyo2MCArIGdsb2JhbC5pbmNyZW1lbnRcclxuXHRcdGdsb2JhbC5jbG9ja3MgPSBbc2Vjb25kcywgc2Vjb25kc11cclxuXHRcdGNvbnNvbGUubG9nICduZXdHYW1lJyxnbG9iYWwubWludXRlcyxnbG9iYWwuaW5jcmVtZW50XHJcblx0XHRnbG9iYWwuZGlhbG9ndWVzLmNsZWFyKClcclxuXHJcblx0Z2xvYmFsLmRpYWxvZ3VlLmNsb2NrICcgJyx0cnVlXHJcblx0Z2xvYmFsLmRpYWxvZ3VlLnRleHRTaXplICo9IDEuNVxyXG5cclxuc2V0TWludXRlcz0gKG1pbnV0ZXMpIC0+XHJcblx0Z2xvYmFsLm1pbnV0ZXMgPSBtaW51dGVzXHJcblx0c2Vjb25kcyA9IG1pbnV0ZXMqNjAgKyBnbG9iYWwuaW5jcmVtZW50XHJcblx0Z2xvYmFsLmNsb2NrcyA9IFtzZWNvbmRzLHNlY29uZHNdXHJcblx0Z2xvYmFsLmRpYWxvZ3Vlcy5wb3AoKVxyXG5cclxuZXhwb3J0IG1lbnUxID0gLT4gIyBNaW51dGVzLi4uXHJcblx0Z2xvYmFsLmRpYWxvZ3VlID0gbmV3IERpYWxvZ3VlKClcclxuXHRmb3IgbiBpbiBbMSwyLDMsNSwxMCwxNSwyMCwzMCw0NSw2MCw5MF1cclxuXHRcdGRvIChuKSAtPiBnbG9iYWwuZGlhbG9ndWUuYWRkIG4udG9TdHJpbmcoKSwgLT4gc2V0TWludXRlcyBuXHJcblx0Z2xvYmFsLmRpYWxvZ3VlLmNsb2NrKClcclxuXHRnbG9iYWwuZGlhbG9ndWUudGV4dFNpemUgKj0gMC41XHJcblxyXG5zZXRJbmNyZW1lbnQgPSAoaW5jcmVtZW50KSAtPlxyXG5cdGdsb2JhbC5pbmNyZW1lbnQgPSBpbmNyZW1lbnRcclxuXHRzZWNvbmRzID0gZ2xvYmFsLm1pbnV0ZXMqNjAgKyBnbG9iYWwuaW5jcmVtZW50XHJcblx0Z2xvYmFsLmNsb2NrcyA9IFtzZWNvbmRzLHNlY29uZHNdXHJcblx0Z2xvYmFsLmRpYWxvZ3Vlcy5wb3AoKVxyXG5cclxuZXhwb3J0IG1lbnUyID0gLT4gIyBJbmNyZW1lbnQuLi5cclxuXHRnbG9iYWwuZGlhbG9ndWUgPSBuZXcgRGlhbG9ndWUoKVxyXG5cdGZvciBuIGluIFswLDEsMiwzLDUsMTAsMTUsMjAsMzAsNDAsNTBdXHJcblx0XHRkbyAobikgLT4gZ2xvYmFsLmRpYWxvZ3VlLmFkZCBuLnRvU3RyaW5nKCksIC0+IHNldEluY3JlbWVudCBuXHJcblx0Z2xvYmFsLmRpYWxvZ3VlLmNsb2NrKClcclxuXHRnbG9iYWwuZGlhbG9ndWUudGV4dFNpemUgKj0gMC41XHJcbiJdfQ==
//# sourceURL=c:\github\2023-026-chessx2\coffee\menus.coffee