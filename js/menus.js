// Generated by CoffeeScript 2.5.1
var analyze, newGame, setIncrement, setMinutes;

import {
  global
} from '../js/globals.js';

import {
  Dialogue
} from '../js/dialogue.js';

import {
  enterFullscreen
} from '../js/utils.js';

import {
  Button
} from '../js/button.js';

analyze = (url) => {
  var date, encodedPGN, pgnString;
  // [Event "Exempelturnering"]
  // [Site "Lichess"]
  // [Date "2023.05.27"]
  // [Round "1"]
  // [White "Spelare1"]
  // [Black "Spelare2"]
  // [Result "1-0"]
  date = new Date().toISOString().slice(0, 10).replace(/-/g, '.');
  console.log(date);
  pgnString = '[Date "' + date + '"]\n' + global.chess.pgn();
  encodedPGN = encodeURIComponent(pgnString);
  return fetch('https://lichess.org/api/import', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/x-www-form-urlencoded'
    },
    body: "pgn=" + encodedPGN
  }).then(function(response) {
    console.log(`Statuskod: ${response.status}`);
    return response.json();
  }).then(function(data) {
    console.log(data);
    return window.open(data.url, "_blank");
  }).catch(function(error) {
    return console.error(error);
  });
};

newGame = () => {
  var seconds;
  global.chess.reset();
  seconds = global.minutes * 60 + global.increment;
  return global.clocks = [seconds, seconds];
};

export var menu0 = function() { // Main Menu
  global.dialogue = new Dialogue();
  global.dialogue.add('Full Screen', function() {
    enterFullscreen();
    return global.dialogues.clear();
  });
  global.dialogue.add('Increment...', function() {
    return menu2();
  });
  global.dialogue.add('Analyze', function() {
    analyze("https://lichess.org/paste");
    return global.dialogues.clear();
  });
  global.dialogue.add('Minutes...', function() {
    return menu1();
  });
  global.dialogue.add('New Game', function() {
    var seconds;
    newGame();
    seconds = global.minutes * 60 + global.increment;
    global.clocks = [seconds, seconds];
    console.log('newGame', global.minutes, global.increment);
    return global.dialogues.clear();
  });
  global.dialogue.add('Undo', function() {
    global.chess.undo();
    return global.dialogues.clear();
  });
  global.dialogue.clock(' ', true);
  return global.dialogue.textSize *= 1.5;
};

setMinutes = function(minutes) {
  var seconds;
  global.minutes = minutes;
  seconds = minutes * 60 + global.increment;
  global.clocks = [seconds, seconds];
  return global.dialogues.pop();
};

export var menu1 = function() { // Minutes...
  var i, len, n, ref;
  global.dialogue = new Dialogue();
  ref = [1, 2, 3, 5, 10, 15, 20, 30, 45, 60, 90];
  for (i = 0, len = ref.length; i < len; i++) {
    n = ref[i];
    (function(n) {
      return global.dialogue.add(n.toString(), function() {
        return setMinutes(n);
      });
    })(n);
  }
  global.dialogue.clock();
  return global.dialogue.textSize *= 0.5;
};

setIncrement = function(increment) {
  var seconds;
  global.increment = increment;
  seconds = global.minutes * 60 + global.increment;
  global.clocks = [seconds, seconds];
  return global.dialogues.pop();
};

export var menu2 = function() { // Increment...
  var i, len, n, ref;
  global.dialogue = new Dialogue();
  ref = [0, 1, 2, 3, 5, 10, 15, 20, 30, 40, 50];
  for (i = 0, len = ref.length; i < len; i++) {
    n = ref[i];
    (function(n) {
      return global.dialogue.add(n.toString(), function() {
        return setIncrement(n);
      });
    })(n);
  }
  global.dialogue.clock();
  return global.dialogue.textSize *= 0.5;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVudXMuanMiLCJzb3VyY2VSb290IjoiLi4iLCJzb3VyY2VzIjpbImNvZmZlZVxcbWVudXMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBLE9BQUEsRUFBQSxPQUFBLEVBQUEsWUFBQSxFQUFBOztBQUFBLE9BQUE7RUFBUSxNQUFSO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVEsUUFBUjtDQUFBLE1BQUE7O0FBQ0EsT0FBQTtFQUFRLGVBQVI7Q0FBQSxNQUFBOztBQUNBLE9BQUE7RUFBUSxNQUFSO0NBQUEsTUFBQTs7QUFFQSxPQUFBLEdBQVUsQ0FBQyxHQUFELENBQUEsR0FBQTtBQUVWLE1BQUEsSUFBQSxFQUFBLFVBQUEsRUFBQSxTQUFBOzs7Ozs7OztFQVFDLElBQUEsR0FBTyxJQUFJLElBQUosQ0FBQSxDQUFVLENBQUMsV0FBWCxDQUFBLENBQXdCLENBQUMsS0FBekIsQ0FBK0IsQ0FBL0IsRUFBaUMsRUFBakMsQ0FBb0MsQ0FBQyxPQUFyQyxDQUE2QyxJQUE3QyxFQUFrRCxHQUFsRDtFQUNQLE9BQU8sQ0FBQyxHQUFSLENBQVksSUFBWjtFQUNBLFNBQUEsR0FBWSxTQUFBLEdBQVcsSUFBWCxHQUFrQixNQUFsQixHQUEyQixNQUFNLENBQUMsS0FBSyxDQUFDLEdBQWIsQ0FBQTtFQUN2QyxVQUFBLEdBQWEsa0JBQUEsQ0FBbUIsU0FBbkI7U0FFYixLQUFBLENBQU0sZ0NBQU4sRUFBd0M7SUFBQyxNQUFBLEVBQVEsTUFBVDtJQUFnQixPQUFBLEVBQVM7TUFBQyxjQUFBLEVBQWdCO0lBQWpCLENBQXpCO0lBQStFLElBQUEsRUFBTSxNQUFBLEdBQVM7RUFBOUYsQ0FBeEMsQ0FDQyxDQUFDLElBREYsQ0FDTyxRQUFBLENBQUMsUUFBRCxDQUFBO0lBQ0wsT0FBTyxDQUFDLEdBQVIsQ0FBWSxDQUFBLFdBQUEsQ0FBQSxDQUFjLFFBQVEsQ0FBQyxNQUF2QixDQUFBLENBQVo7V0FDQSxRQUFRLENBQUMsSUFBVCxDQUFBO0VBRkssQ0FEUCxDQUlDLENBQUMsSUFKRixDQUlPLFFBQUEsQ0FBQyxJQUFELENBQUE7SUFDTCxPQUFPLENBQUMsR0FBUixDQUFZLElBQVo7V0FDQSxNQUFNLENBQUMsSUFBUCxDQUFZLElBQUksQ0FBQyxHQUFqQixFQUFzQixRQUF0QjtFQUZLLENBSlAsQ0FPQyxDQUFDLEtBUEYsQ0FPUSxRQUFBLENBQUMsS0FBRCxDQUFBO1dBQ04sT0FBTyxDQUFDLEtBQVIsQ0FBYyxLQUFkO0VBRE0sQ0FQUjtBQWZTOztBQXlCVixPQUFBLEdBQVUsQ0FBQSxDQUFBLEdBQUE7QUFDVixNQUFBO0VBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFiLENBQUE7RUFDQSxPQUFBLEdBQVUsTUFBTSxDQUFDLE9BQVAsR0FBZSxFQUFmLEdBQW9CLE1BQU0sQ0FBQztTQUNyQyxNQUFNLENBQUMsTUFBUCxHQUFnQixDQUFDLE9BQUQsRUFBUyxPQUFUO0FBSFA7O0FBS1YsT0FBQSxJQUFPLEtBQUEsR0FBUSxRQUFBLENBQUEsQ0FBQSxFQUFBO0VBQ2QsTUFBTSxDQUFDLFFBQVAsR0FBa0IsSUFBSSxRQUFKLENBQUE7RUFDbEIsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFoQixDQUFvQixhQUFwQixFQUFtQyxRQUFBLENBQUEsQ0FBQTtJQUNsQyxlQUFBLENBQUE7V0FDQSxNQUFNLENBQUMsU0FBUyxDQUFDLEtBQWpCLENBQUE7RUFGa0MsQ0FBbkM7RUFHQSxNQUFNLENBQUMsUUFBUSxDQUFDLEdBQWhCLENBQW9CLGNBQXBCLEVBQW9DLFFBQUEsQ0FBQSxDQUFBO1dBQUcsS0FBQSxDQUFBO0VBQUgsQ0FBcEM7RUFDQSxNQUFNLENBQUMsUUFBUSxDQUFDLEdBQWhCLENBQW9CLFNBQXBCLEVBQStCLFFBQUEsQ0FBQSxDQUFBO0lBQzlCLE9BQUEsQ0FBUSwyQkFBUjtXQUNBLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBakIsQ0FBQTtFQUY4QixDQUEvQjtFQUdBLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBaEIsQ0FBb0IsWUFBcEIsRUFBa0MsUUFBQSxDQUFBLENBQUE7V0FBRyxLQUFBLENBQUE7RUFBSCxDQUFsQztFQUNBLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBaEIsQ0FBb0IsVUFBcEIsRUFBZ0MsUUFBQSxDQUFBLENBQUE7QUFDakMsUUFBQTtJQUFFLE9BQUEsQ0FBQTtJQUNBLE9BQUEsR0FBVSxNQUFNLENBQUMsT0FBUCxHQUFlLEVBQWYsR0FBb0IsTUFBTSxDQUFDO0lBQ3JDLE1BQU0sQ0FBQyxNQUFQLEdBQWdCLENBQUMsT0FBRCxFQUFVLE9BQVY7SUFDaEIsT0FBTyxDQUFDLEdBQVIsQ0FBWSxTQUFaLEVBQXNCLE1BQU0sQ0FBQyxPQUE3QixFQUFxQyxNQUFNLENBQUMsU0FBNUM7V0FDQSxNQUFNLENBQUMsU0FBUyxDQUFDLEtBQWpCLENBQUE7RUFMK0IsQ0FBaEM7RUFNQSxNQUFNLENBQUMsUUFBUSxDQUFDLEdBQWhCLENBQW9CLE1BQXBCLEVBQTRCLFFBQUEsQ0FBQSxDQUFBO0lBQzNCLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBYixDQUFBO1dBQ0EsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFqQixDQUFBO0VBRjJCLENBQTVCO0VBSUEsTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFoQixDQUFzQixHQUF0QixFQUEwQixJQUExQjtTQUNBLE1BQU0sQ0FBQyxRQUFRLENBQUMsUUFBaEIsSUFBNEI7QUFyQmQ7O0FBdUJmLFVBQUEsR0FBWSxRQUFBLENBQUMsT0FBRCxDQUFBO0FBQ1osTUFBQTtFQUFDLE1BQU0sQ0FBQyxPQUFQLEdBQWlCO0VBQ2pCLE9BQUEsR0FBVSxPQUFBLEdBQVEsRUFBUixHQUFhLE1BQU0sQ0FBQztFQUM5QixNQUFNLENBQUMsTUFBUCxHQUFnQixDQUFDLE9BQUQsRUFBUyxPQUFUO1NBQ2hCLE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBakIsQ0FBQTtBQUpXOztBQU1aLE9BQUEsSUFBTyxLQUFBLEdBQVEsUUFBQSxDQUFBLENBQUEsRUFBQTtBQUNmLE1BQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxDQUFBLEVBQUE7RUFBQyxNQUFNLENBQUMsUUFBUCxHQUFrQixJQUFJLFFBQUosQ0FBQTtBQUNsQjtFQUFBLEtBQUEscUNBQUE7O0lBQ0ksQ0FBQSxRQUFBLENBQUMsQ0FBRCxDQUFBO2FBQU8sTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFoQixDQUFvQixDQUFDLENBQUMsUUFBRixDQUFBLENBQXBCLEVBQWtDLFFBQUEsQ0FBQSxDQUFBO2VBQUcsVUFBQSxDQUFXLENBQVg7TUFBSCxDQUFsQztJQUFQLENBQUEsRUFBQztFQURMO0VBRUEsTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFoQixDQUFBO1NBQ0EsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFoQixJQUE0QjtBQUxkOztBQU9mLFlBQUEsR0FBZSxRQUFBLENBQUMsU0FBRCxDQUFBO0FBQ2YsTUFBQTtFQUFDLE1BQU0sQ0FBQyxTQUFQLEdBQW1CO0VBQ25CLE9BQUEsR0FBVSxNQUFNLENBQUMsT0FBUCxHQUFlLEVBQWYsR0FBb0IsTUFBTSxDQUFDO0VBQ3JDLE1BQU0sQ0FBQyxNQUFQLEdBQWdCLENBQUMsT0FBRCxFQUFTLE9BQVQ7U0FDaEIsTUFBTSxDQUFDLFNBQVMsQ0FBQyxHQUFqQixDQUFBO0FBSmM7O0FBTWYsT0FBQSxJQUFPLEtBQUEsR0FBUSxRQUFBLENBQUEsQ0FBQSxFQUFBO0FBQ2YsTUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLENBQUEsRUFBQTtFQUFDLE1BQU0sQ0FBQyxRQUFQLEdBQWtCLElBQUksUUFBSixDQUFBO0FBQ2xCO0VBQUEsS0FBQSxxQ0FBQTs7SUFDSSxDQUFBLFFBQUEsQ0FBQyxDQUFELENBQUE7YUFBTyxNQUFNLENBQUMsUUFBUSxDQUFDLEdBQWhCLENBQW9CLENBQUMsQ0FBQyxRQUFGLENBQUEsQ0FBcEIsRUFBa0MsUUFBQSxDQUFBLENBQUE7ZUFBRyxZQUFBLENBQWEsQ0FBYjtNQUFILENBQWxDO0lBQVAsQ0FBQSxFQUFDO0VBREw7RUFFQSxNQUFNLENBQUMsUUFBUSxDQUFDLEtBQWhCLENBQUE7U0FDQSxNQUFNLENBQUMsUUFBUSxDQUFDLFFBQWhCLElBQTRCO0FBTGQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2dsb2JhbH0gZnJvbSAnLi4vanMvZ2xvYmFscy5qcydcclxuaW1wb3J0IHtEaWFsb2d1ZX0gZnJvbSAnLi4vanMvZGlhbG9ndWUuanMnXHJcbmltcG9ydCB7ZW50ZXJGdWxsc2NyZWVufSBmcm9tICcuLi9qcy91dGlscy5qcydcclxuaW1wb3J0IHtCdXR0b259IGZyb20gJy4uL2pzL2J1dHRvbi5qcydcclxuXHJcbmFuYWx5emUgPSAodXJsKSA9PlxyXG5cclxuXHQjIFtFdmVudCBcIkV4ZW1wZWx0dXJuZXJpbmdcIl1cclxuXHQjIFtTaXRlIFwiTGljaGVzc1wiXVxyXG5cdCMgW0RhdGUgXCIyMDIzLjA1LjI3XCJdXHJcblx0IyBbUm91bmQgXCIxXCJdXHJcblx0IyBbV2hpdGUgXCJTcGVsYXJlMVwiXVxyXG5cdCMgW0JsYWNrIFwiU3BlbGFyZTJcIl1cclxuXHQjIFtSZXN1bHQgXCIxLTBcIl1cclxuXHJcblx0ZGF0ZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zbGljZSgwLDEwKS5yZXBsYWNlKC8tL2csJy4nKVxyXG5cdGNvbnNvbGUubG9nIGRhdGVcclxuXHRwZ25TdHJpbmcgPSAnW0RhdGUgXCInKyBkYXRlICsgJ1wiXVxcbicgKyBnbG9iYWwuY2hlc3MucGduKClcclxuXHRlbmNvZGVkUEdOID0gZW5jb2RlVVJJQ29tcG9uZW50IHBnblN0cmluZ1xyXG5cclxuXHRmZXRjaCAnaHR0cHM6Ly9saWNoZXNzLm9yZy9hcGkvaW1wb3J0Jywge21ldGhvZDogJ1BPU1QnLGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9LGJvZHk6IFwicGduPVwiICsgZW5jb2RlZFBHTn1cclxuXHRcdC50aGVuIChyZXNwb25zZSkgLT5cclxuXHRcdFx0Y29uc29sZS5sb2cgXCJTdGF0dXNrb2Q6ICN7cmVzcG9uc2Uuc3RhdHVzfVwiXHJcblx0XHRcdHJlc3BvbnNlLmpzb24oKVxyXG5cdFx0LnRoZW4gKGRhdGEpIC0+XHJcblx0XHRcdGNvbnNvbGUubG9nIGRhdGFcclxuXHRcdFx0d2luZG93Lm9wZW4gZGF0YS51cmwsIFwiX2JsYW5rXCJcclxuXHRcdC5jYXRjaCAoZXJyb3IpIC0+XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IgZXJyb3JcclxuXHJcbm5ld0dhbWUgPSA9PlxyXG5cdGdsb2JhbC5jaGVzcy5yZXNldCgpXHJcblx0c2Vjb25kcyA9IGdsb2JhbC5taW51dGVzKjYwICsgZ2xvYmFsLmluY3JlbWVudFxyXG5cdGdsb2JhbC5jbG9ja3MgPSBbc2Vjb25kcyxzZWNvbmRzXVxyXG5cclxuZXhwb3J0IG1lbnUwID0gLT4gIyBNYWluIE1lbnVcclxuXHRnbG9iYWwuZGlhbG9ndWUgPSBuZXcgRGlhbG9ndWUoKVxyXG5cdGdsb2JhbC5kaWFsb2d1ZS5hZGQgJ0Z1bGwgU2NyZWVuJywgLT5cclxuXHRcdGVudGVyRnVsbHNjcmVlbigpXHJcblx0XHRnbG9iYWwuZGlhbG9ndWVzLmNsZWFyKClcclxuXHRnbG9iYWwuZGlhbG9ndWUuYWRkICdJbmNyZW1lbnQuLi4nLCAtPiBtZW51MigpXHJcblx0Z2xvYmFsLmRpYWxvZ3VlLmFkZCAnQW5hbHl6ZScsIC0+XHJcblx0XHRhbmFseXplIFwiaHR0cHM6Ly9saWNoZXNzLm9yZy9wYXN0ZVwiXHJcblx0XHRnbG9iYWwuZGlhbG9ndWVzLmNsZWFyKClcclxuXHRnbG9iYWwuZGlhbG9ndWUuYWRkICdNaW51dGVzLi4uJywgLT4gbWVudTEoKVxyXG5cdGdsb2JhbC5kaWFsb2d1ZS5hZGQgJ05ldyBHYW1lJywgLT5cclxuXHRcdG5ld0dhbWUoKVxyXG5cdFx0c2Vjb25kcyA9IGdsb2JhbC5taW51dGVzKjYwICsgZ2xvYmFsLmluY3JlbWVudFxyXG5cdFx0Z2xvYmFsLmNsb2NrcyA9IFtzZWNvbmRzLCBzZWNvbmRzXVxyXG5cdFx0Y29uc29sZS5sb2cgJ25ld0dhbWUnLGdsb2JhbC5taW51dGVzLGdsb2JhbC5pbmNyZW1lbnRcclxuXHRcdGdsb2JhbC5kaWFsb2d1ZXMuY2xlYXIoKVxyXG5cdGdsb2JhbC5kaWFsb2d1ZS5hZGQgJ1VuZG8nLCAtPlxyXG5cdFx0Z2xvYmFsLmNoZXNzLnVuZG8oKVxyXG5cdFx0Z2xvYmFsLmRpYWxvZ3Vlcy5jbGVhcigpXHJcblxyXG5cdGdsb2JhbC5kaWFsb2d1ZS5jbG9jayAnICcsdHJ1ZVxyXG5cdGdsb2JhbC5kaWFsb2d1ZS50ZXh0U2l6ZSAqPSAxLjVcclxuXHJcbnNldE1pbnV0ZXM9IChtaW51dGVzKSAtPlxyXG5cdGdsb2JhbC5taW51dGVzID0gbWludXRlc1xyXG5cdHNlY29uZHMgPSBtaW51dGVzKjYwICsgZ2xvYmFsLmluY3JlbWVudFxyXG5cdGdsb2JhbC5jbG9ja3MgPSBbc2Vjb25kcyxzZWNvbmRzXVxyXG5cdGdsb2JhbC5kaWFsb2d1ZXMucG9wKClcclxuXHJcbmV4cG9ydCBtZW51MSA9IC0+ICMgTWludXRlcy4uLlxyXG5cdGdsb2JhbC5kaWFsb2d1ZSA9IG5ldyBEaWFsb2d1ZSgpXHJcblx0Zm9yIG4gaW4gWzEsMiwzLDUsMTAsMTUsMjAsMzAsNDUsNjAsOTBdXHJcblx0XHRkbyAobikgLT4gZ2xvYmFsLmRpYWxvZ3VlLmFkZCBuLnRvU3RyaW5nKCksIC0+IHNldE1pbnV0ZXMgblxyXG5cdGdsb2JhbC5kaWFsb2d1ZS5jbG9jaygpXHJcblx0Z2xvYmFsLmRpYWxvZ3VlLnRleHRTaXplICo9IDAuNVxyXG5cclxuc2V0SW5jcmVtZW50ID0gKGluY3JlbWVudCkgLT5cclxuXHRnbG9iYWwuaW5jcmVtZW50ID0gaW5jcmVtZW50XHJcblx0c2Vjb25kcyA9IGdsb2JhbC5taW51dGVzKjYwICsgZ2xvYmFsLmluY3JlbWVudFxyXG5cdGdsb2JhbC5jbG9ja3MgPSBbc2Vjb25kcyxzZWNvbmRzXVxyXG5cdGdsb2JhbC5kaWFsb2d1ZXMucG9wKClcclxuXHJcbmV4cG9ydCBtZW51MiA9IC0+ICMgSW5jcmVtZW50Li4uXHJcblx0Z2xvYmFsLmRpYWxvZ3VlID0gbmV3IERpYWxvZ3VlKClcclxuXHRmb3IgbiBpbiBbMCwxLDIsMyw1LDEwLDE1LDIwLDMwLDQwLDUwXVxyXG5cdFx0ZG8gKG4pIC0+IGdsb2JhbC5kaWFsb2d1ZS5hZGQgbi50b1N0cmluZygpLCAtPiBzZXRJbmNyZW1lbnQgblxyXG5cdGdsb2JhbC5kaWFsb2d1ZS5jbG9jaygpXHJcblx0Z2xvYmFsLmRpYWxvZ3VlLnRleHRTaXplICo9IDAuNVxyXG4iXX0=
//# sourceURL=c:\github\2023-026-chessx2\coffee\menus.coffee