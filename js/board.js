// Generated by CoffeeScript 2.5.1
var modulo = function(a, b) { return (+a % (b = +b) + b) % b; };

import _ from 'https://cdn.skypack.dev/lodash';

import {
  ass,
  lerp,
  param,
  range,
  hexToBase64,
  enterFullscreen
} from '../js/utils.js';

import {
  Square
} from '../js/square.js';

import {
  Button
} from '../js/button.js';

import {
  coords,
  clickString,
  global,
  toObjectNotation,
  toUCI
} from '../js/globals.js';

import {
  dumpState
} from '../js/globals.js';

export var Board = class Board {
  constructor(nr) {
    var i, ix, iy, k, len, ref, x, y;
    this.click = this.click.bind(this);
    this.draw = this.draw.bind(this);
    //@littera()
    this.littera = this.littera.bind(this);
    this.nr = nr;
    this.squares = [];
    this.clickedSquares = [];
    this.pieces = "";
    ref = range(64);
    for (k = 0, len = ref.length; k < len; k++) {
      i = ref[k];
      ix = modulo(i, 8);
      iy = 7 - Math.floor(i / 8);
      x = global.mx + global.SIZE * ix;
      y = global.my + global.SIZE * iy + this.nr * global.SIZE * 9;
      ((i, x, y) => {
        return this.squares.push(new Square(this.nr, i, x, y, () => {
          return this.click(i);
        }));
      })(i, x, y);
    }
    this.buttons = [];
  }

  click(i) {
    var col, color, csl, g, row, sq, uci;
    g = global;
    col = modulo(i, 8);
    row = 7 - Math.floor(i / 8);
    sq = g.chess.board()[row][col];
    color = "wb"[modulo(g.chess.history().length, 2)];
    csl = this.clickedSquares.length;
    if (csl === 0) {
      if (sq !== null && sq.color === color) {
        return this.clickedSquares.push(i);
      }
    } else if (csl === 1) {
      if (i === this.clickedSquares[0]) {
        return this.clickedSquares = []; // kontrollera draget
      } else {
        this.clickedSquares.push(i);
        uci = toUCI(this.clickedSquares);
        // är detta ett korrekt drag? I så fall, utför det
        if (g.chess.move({
          from: uci.slice(0, 2),
          to: uci.slice(2, 4)
        })) {
          // console.log g.chess.pgn()
          navigator.clipboard.writeText(g.chess.pgn());
          return this.clickedSquares = [];
        } else {
          return this.clickedSquares.pop();
        }
      }
    }
  }

  draw() {
    var button, i, j, k, l, len, len1, len2, m, piece, ref, ref1, ref2, ref3, ref4, ref5, sq;
    ref = this.buttons;
    for (k = 0, len = ref.length; k < len; k++) {
      button = ref[k];
      button.draw();
    }
    fill('white');
    textSize(global.SIZE * 0.3);
    push();
    if (this.nr === 0) {
      translate(global.mx, global.my);
    } else {
      translate(global.mx, global.my + 9 * global.SIZE);
    }
    ref1 = range(8);
    for (l = 0, len1 = ref1.length; l < len1; l++) {
      i = ref1[l];
      ref2 = range(8);
      for (m = 0, len2 = ref2.length; m < len2; m++) {
        j = ref2[m];
        piece = global.chess.board()[7 - i][j];
        sq = this.squares[i * 8 + j];
        if ((ref3 = this.clickedSquares.length) === 0 || ref3 === 2) {
          sq.draw(piece, false);
        }
        if ((ref4 = this.clickedSquares.length) === 1) {
          sq.draw(piece, i * 8 + j === this.clickedSquares[0]);
        } else if ((ref5 = this.clickedSquares.length) === 3 || ref5 === 4) {
          sq.draw(piece, i * 8 + j === this.clickedSquares[2]);
        }
      }
    }
    stroke('black');
    if (this.nr === 0) {
      fill(128, 128, 128, 64);
    } else {
      noFill();
    }
    rect(global.SIZE * 4, global.SIZE * 4, global.SIZE * 8, global.SIZE * 8);
    return pop();
  }

  littera() {
    var digits, i, k, len, letters, ref, results;
    noStroke();
    fill('black');
    textSize(global.SIZE * 0.3);
    letters = false ? "hgfedcba" : "abcdefgh";
    digits = false ? "12345678" : "87654321";
    ref = range(8);
    results = [];
    for (k = 0, len = ref.length; k < len; k++) {
      i = ref[k];
      text(letters[i], global.SIZE * (i + 1), global.SIZE * 8.8);
      results.push(text(digits[i], global.SIZE * 0.15, global.SIZE * (i + 1)));
    }
    return results;
  }

};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYm9hcmQuanMiLCJzb3VyY2VSb290IjoiLi4iLCJzb3VyY2VzIjpbImNvZmZlZVxcYm9hcmQuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBOztBQUFBLE9BQU8sQ0FBUCxNQUFBOztBQUNBLE9BQUE7RUFBUSxHQUFSO0VBQVksSUFBWjtFQUFpQixLQUFqQjtFQUF1QixLQUF2QjtFQUE2QixXQUE3QjtFQUF5QyxlQUF6QztDQUFBLE1BQUE7O0FBQ0EsT0FBQTtFQUFRLE1BQVI7Q0FBQSxNQUFBOztBQUNBLE9BQUE7RUFBUSxNQUFSO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVEsTUFBUjtFQUFlLFdBQWY7RUFBMkIsTUFBM0I7RUFBa0MsZ0JBQWxDO0VBQW1ELEtBQW5EO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVEsU0FBUjtDQUFBLE1BQUE7O0FBRUEsT0FBQSxJQUFhLFFBQU4sTUFBQSxNQUFBO0VBQ04sV0FBYSxHQUFBLENBQUE7QUFDZCxRQUFBLENBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLENBQUEsRUFBQTtRQVlDLENBQUEsWUFBQSxDQUFBO1FBdUJBLENBQUEsV0FBQSxDQUFBLGdCQW5DRDs7UUFnRUMsQ0FBQSxjQUFBLENBQUE7SUFqRWMsSUFBQyxDQUFBO0lBQ2QsSUFBQyxDQUFBLE9BQUQsR0FBVztJQUNYLElBQUMsQ0FBQSxjQUFELEdBQWtCO0lBQ2xCLElBQUMsQ0FBQSxNQUFELEdBQVU7QUFDVjtJQUFBLEtBQUEscUNBQUE7O01BQ0MsRUFBQSxVQUFLLEdBQUs7TUFDVixFQUFBLEdBQUssQ0FBQSxjQUFJLElBQUs7TUFDZCxDQUFBLEdBQUksTUFBTSxDQUFDLEVBQVAsR0FBWSxNQUFNLENBQUMsSUFBUCxHQUFjO01BQzlCLENBQUEsR0FBSSxNQUFNLENBQUMsRUFBUCxHQUFZLE1BQU0sQ0FBQyxJQUFQLEdBQWMsRUFBMUIsR0FBK0IsSUFBQyxDQUFBLEVB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WSxDQUE3QyxFQUErQyxNQUFNLENBQUMsSUFBUCxHQUFZLENBQTNEO1dBQ0EsR0FBQSxDQUFBO0VBMUJNOztFQTZCUCxPQUFVLENBQUEsQ0FBQTtBQUNYLFFBQUEsTUFBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUE7SUFBRSxRQUFBLENBQUE7SUFDQSxJQUFBLENBQUssT0FBTDtJQUNBLFFBQUEsQ0FBUyxNQUFNLENBQUMsSUFBUCxHQUFZLEdBQXJCO0lBQ0EsT0FBQSxHQUFhLEtBQUgsR0FBYyxVQUFkLEdBQThCO0lBQ3hDLE1BQUEsR0FBYSxLQUFILEdBQWMsVUFBZCxHQUE4QjtBQUV4QztBQUFBO0lBQUEsS0FBQSxxQ0FBQTs7TUFDQyxJQUFBLENBQUssT0FBTyxDQUFDLENBQUQsQ0FBWixFQUFnQixNQUFNLENBQUMsSUFBUCxHQUFZLENBQUMsQ0FBQSxHQUFFLENBQUgsQ0FBNUIsRUFBa0MsTUFBTSxDQUFDLElBQVAsR0FBWSxHQUE5QzttQkFDQSxJQUFBLENBQUssTUFBTSxDQUFDLENBQUQsQ0FBWCxFQUFlLE1BQU0sQ0FBQyxJQUFQLEdBQVksSUFBM0IsRUFBZ0MsTUFBTSxDQUFDLElBQVAsR0FBWSxDQUFDLENBQUEsR0FBRSxDQUFILENBQTVDO0lBRkQsQ0FBQTs7RUFQUzs7QUFsRUoiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdodHRwczovL2Nkbi5za3lwYWNrLmRldi9sb2Rhc2gnXHJcbmltcG9ydCB7YXNzLGxlcnAscGFyYW0scmFuZ2UsaGV4VG9CYXNlNjQsZW50ZXJGdWxsc2NyZWVufSBmcm9tICcuLi9qcy91dGlscy5qcydcclxuaW1wb3J0IHtTcXVhcmV9IGZyb20gJy4uL2pzL3NxdWFyZS5qcydcclxuaW1wb3J0IHtCdXR0b259IGZyb20gJy4uL2pzL2J1dHRvbi5qcydcclxuaW1wb3J0IHtjb29yZHMsY2xpY2tTdHJpbmcsZ2xvYmFsLHRvT2JqZWN0Tm90YXRpb24sdG9VQ0l9IGZyb20gJy4uL2pzL2dsb2JhbHMuanMnXHJcbmltcG9ydCB7ZHVtcFN0YXRlfSBmcm9tICcuLi9qcy9nbG9iYWxzLmpzJ1xyXG5cclxuZXhwb3J0IGNsYXNzIEJvYXJkXHJcblx0Y29uc3RydWN0b3I6IChAbnIpIC0+XHJcblx0XHRAc3F1YXJlcyA9IFtdXHJcblx0XHRAY2xpY2tlZFNxdWFyZXMgPSBbXVxyXG5cdFx0QHBpZWNlcyA9IFwiXCJcclxuXHRcdGZvciBpIGluIHJhbmdlIDY0XHJcblx0XHRcdGl4ID0gaSAlJSA4XHJcblx0XHRcdGl5ID0gNyAtIGkgLy8gOFxyXG5cdFx0XHR4ID0gZ2xvYmFsLm14ICsgZ2xvYmFsLlNJWkUgKiBpeFxyXG5cdFx0XHR5ID0gZ2xvYmFsLm15ICsgZ2xvYmFsLlNJWkUgKiBpeSArIEBuciAqIGdsb2JhbC5TSVpFKiA5XHJcblx0XHRcdGRvIChpLHgseSkgPT4gQHNxdWFyZXMucHVzaCBuZXcgU3F1YXJlIEBuciwgaSwgeCwgeSwgPT4gQGNsaWNrIGlcclxuXHJcblx0XHRAYnV0dG9ucyA9IFtdXHJcblxyXG5cdGNsaWNrIDogKGkpID0+XHJcblx0XHRnID0gZ2xvYmFsXHJcblx0XHRjb2wgPSBpICUlIDhcclxuXHRcdHJvdyA9IDcgLSBpIC8vIDhcclxuXHRcdHNxID0gZy5jaGVzcy5ib2FyZCgpW3Jvd11bY29sXVxyXG5cdFx0Y29sb3IgPSBcIndiXCJbZy5jaGVzcy5oaXN0b3J5KCkubGVuZ3RoICUlIDJdICMgZsO2cnbDpG50YWQgZsOkcmcgcMOlIHBqw6RzZW5cclxuXHRcdGNzbCA9IEBjbGlja2VkU3F1YXJlcy5sZW5ndGhcclxuXHRcdGlmIGNzbCA9PSAwXHJcblx0XHRcdGlmIHNxICE9IG51bGwgYW5kIHNxLmNvbG9yID09IGNvbG9yIHRoZW4gQGNsaWNrZWRTcXVhcmVzLnB1c2ggaVxyXG5cdFx0ZWxzZSBpZiBjc2wgPT0gMVxyXG5cdFx0XHRpZiBpID09IEBjbGlja2VkU3F1YXJlc1swXSAjIMOlbmdyYSBvbSBzYW1tYSBydXRhXHJcblx0XHRcdFx0QGNsaWNrZWRTcXVhcmVzID0gW11cclxuXHRcdFx0ZWxzZSAjIGtvbnRyb2xsZXJhIGRyYWdldFxyXG5cdFx0XHRcdEBjbGlja2VkU3F1YXJlcy5wdXNoIGlcclxuXHRcdFx0XHR1Y2kgPSB0b1VDSSBAY2xpY2tlZFNxdWFyZXNcclxuXHRcdFx0XHQjIMOkciBkZXR0YSBldHQga29ycmVrdCBkcmFnPyBJIHPDpSBmYWxsLCB1dGbDtnIgZGV0XHJcblx0XHRcdFx0aWYgZy5jaGVzcy5tb3ZlIHtmcm9tOnVjaS5zbGljZSgwLDIpLCB0bzp1Y2kuc2xpY2UoMiw0KX1cclxuXHRcdFx0XHRcdCMgY29uc29sZS5sb2cgZy5jaGVzcy5wZ24oKVxyXG5cdFx0XHRcdFx0bmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQgZy5jaGVzcy5wZ24oKVxyXG5cdFx0XHRcdFx0QGNsaWNrZWRTcXVhcmVzID0gW11cclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRAY2xpY2tlZFNxdWFyZXMucG9wKClcclxuXHJcblx0ZHJhdyA6ID0+XHJcblxyXG5cdFx0Zm9yIGJ1dHRvbiBpbiBAYnV0dG9uc1xyXG5cdFx0XHRidXR0b24uZHJhdygpXHJcblxyXG5cdFx0ZmlsbCAnd2hpdGUnXHJcblx0XHR0ZXh0U2l6ZSBnbG9iYWwuU0laRSowLjNcclxuXHJcblx0XHRwdXNoKClcclxuXHRcdGlmIEBucj09MCB0aGVuIHRyYW5zbGF0ZSBnbG9iYWwubXgsIGdsb2JhbC5teVxyXG5cdFx0ZWxzZSB0cmFuc2xhdGUgZ2xvYmFsLm14LCBnbG9iYWwubXkgKyA5ICogZ2xvYmFsLlNJWkVcclxuXHJcblx0XHRmb3IgaSBpbiByYW5nZSA4XHJcblx0XHRcdGZvciBqIGluIHJhbmdlIDhcclxuXHRcdFx0XHRwaWVjZSA9IGdsb2JhbC5jaGVzcy5ib2FyZCgpWzctaV1bal1cclxuXHRcdFx0XHRzcSA9IEBzcXVhcmVzW2kqOCtqXVxyXG5cdFx0XHRcdGlmIEBjbGlja2VkU3F1YXJlcy5sZW5ndGggaW4gWzAsMl1cclxuXHRcdFx0XHRcdHNxLmRyYXcgcGllY2UsIGZhbHNlXHJcblx0XHRcdFx0aWYgQGNsaWNrZWRTcXVhcmVzLmxlbmd0aCBpbiBbMV1cclxuXHRcdFx0XHRcdHNxLmRyYXcgcGllY2UsIGkqOCtqPT1AY2xpY2tlZFNxdWFyZXNbMF1cclxuXHRcdFx0XHRlbHNlIGlmIEBjbGlja2VkU3F1YXJlcy5sZW5ndGggaW4gWzMsNF1cclxuXHRcdFx0XHRcdHNxLmRyYXcgcGllY2UsIGkqOCtqPT1AY2xpY2tlZFNxdWFyZXNbMl1cclxuXHJcblx0XHRzdHJva2UgJ2JsYWNrJ1xyXG5cdFx0aWYgQG5yPT0wIHRoZW4gZmlsbCAxMjgsMTI4LDEyOCw2NCBlbHNlIG5vRmlsbCgpXHJcblx0XHRyZWN0IGdsb2JhbC5TSVpFKjQsZ2xvYmFsLlNJWkUqNCxnbG9iYWwuU0laRSo4LGdsb2JhbC5TSVpFKjhcclxuXHRcdHBvcCgpXHJcblx0XHQjQGxpdHRlcmEoKVxyXG5cclxuXHRsaXR0ZXJhIDogPT5cclxuXHRcdG5vU3Ryb2tlKClcclxuXHRcdGZpbGwgJ2JsYWNrJ1xyXG5cdFx0dGV4dFNpemUgZ2xvYmFsLlNJWkUqMC4zXHJcblx0XHRsZXR0ZXJzID0gaWYgZmFsc2UgdGhlbiBcImhnZmVkY2JhXCIgZWxzZSBcImFiY2RlZmdoXCJcclxuXHRcdGRpZ2l0cyAgPSBpZiBmYWxzZSB0aGVuIFwiMTIzNDU2NzhcIiBlbHNlIFwiODc2NTQzMjFcIlxyXG5cclxuXHRcdGZvciBpIGluIHJhbmdlIDhcclxuXHRcdFx0dGV4dCBsZXR0ZXJzW2ldLGdsb2JhbC5TSVpFKihpKzEpLGdsb2JhbC5TSVpFKjguOFxyXG5cdFx0XHR0ZXh0IGRpZ2l0c1tpXSxnbG9iYWwuU0laRSowLjE1LGdsb2JhbC5TSVpFKihpKzEpXHJcbiJdfQ==
//# sourceURL=c:\github\2023-026-chessx2\coffee\board.coffee