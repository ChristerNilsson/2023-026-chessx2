// Generated by CoffeeScript 2.5.1
var link, undo;

import {
  ass,
  log,
  range,
  split,
  param,
  hexToBase64,
  spaceShip
} from '../js/utils.js';

import {
  Button
} from '../js/button.js';

import _ from 'https://cdn.skypack.dev/lodash';

export var global = {
  dialogues: [], // dialogstack till menyhanteringen
  board0: null,
  board1: null,
  chess: null, // hanterar dragen samt deras legalitet
  minutes: 15,
  increment: 10, // seconds
  clocks: [
    15 * 60 + 10,
    15 * 60 + 10 // white and black in seconds. float.
  ],
  paused: true,
  version: 'ver: B',
  pics: {}, // 12 pjÃ¤ser
  buttons: [],
  size: null, // en rutas storlek
  setSize: null,
  mx: null, // x-marginal
  setMx: null,
  my: null, // y-marginal
  setMy: null
};

export var coords = (uci) => {
  var c0, c1, r0, r1;
  param.String(uci);
  c0 = "abcdefgh".indexOf(uci[0]);
  r0 = "12345678".indexOf(uci[1]);
  c1 = "abcdefgh".indexOf(uci[2]);
  r1 = "12345678".indexOf(uci[3]);
  return param.Array([c0 + 8 * r0, c1 + 8 * r1]);
};

ass([8, 24], coords("a2a4"));

export var toUCI = ([from, to]) => {
  var c0, c1, r0, r1;
  param.Integer(from);
  param.Integer(to);
  c0 = "abcdefgh"[from % 8];
  r0 = "12345678"[Math.floor(from / 8)];
  c1 = "abcdefgh"[to % 8];
  r1 = "12345678"[Math.floor(to / 8)];
  return param.String(c0 + r0 + c1 + r1);
};

ass("e2e4", toUCI([12, 28]));

export var toObjectNotation = ([from, to]) => {
  var uci;
  param.Integer(from);
  param.Integer(to);
  uci = toUCI([from, to]);
  from = uci.slice(0, 2);
  to = uci.slice(2, 4);
  return param.Object({from, to});
};

ass({
  from: 'e2',
  to: 'e4'
}, toObjectNotation([12, 28]));

export var empty = (n) => {
  param.Integer(n);
  return param.String((1 + Math.floor(n / 8)).toString());
};

undo = () => {};


// if global.stack.length == 0 then return
// global.chess.undo()
// global.currNode = global.stack.pop()
// # makeChildren()
export var dumpState = () => {
  console.log('STATE ########');
  // console.log '  stack',global.stack
  console.log('  currNode', global.currNode);
  return console.log('  history', global.chess.history());
};

link = () => {
  return 'https://lichess.org/analysis/' + global.chess.fen();
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2xvYmFscy5qcyIsInNvdXJjZVJvb3QiOiIuLiIsInNvdXJjZXMiOlsiY29mZmVlXFxnbG9iYWxzLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQSxJQUFBLEVBQUE7O0FBQUEsT0FBQTtFQUFRLEdBQVI7RUFBWSxHQUFaO0VBQWdCLEtBQWhCO0VBQXNCLEtBQXRCO0VBQTRCLEtBQTVCO0VBQWtDLFdBQWxDO0VBQThDLFNBQTlDO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVEsTUFBUjtDQUFBLE1BQUE7O0FBQ0EsT0FBTyxDQUFQLE1BQUE7O0FBRUEsT0FBQSxJQUFPLE1BQUEsR0FBUztFQUVmLFNBQUEsRUFBVyxFQUZJO0VBR2YsTUFBQSxFQUFTLElBSE07RUFJZixNQUFBLEVBQVMsSUFKTTtFQUtmLEtBQUEsRUFBUSxJQUxPO0VBT2YsT0FBQSxFQUFVLEVBUEs7RUFRZixTQUFBLEVBQVksRUFSRztFQVNmLE1BQUEsRUFBUTtJQUFDLEVBQUEsR0FBRyxFQUFILEdBQU0sRUFBUDtJQUFVLEVBQUEsR0FBRyxFQUFILEdBQU0sRUFBaEI7R0FUTztFQVdmLE1BQUEsRUFBUyxJQVhNO0VBWWYsT0FBQSxFQUFRLFFBWk87RUFhZixJQUFBLEVBQU8sQ0FBQSxDQWJRO0VBY2YsT0FBQSxFQUFVLEVBZEs7RUFnQmYsSUFBQSxFQUFLLElBaEJVO0VBaUJmLE9BQUEsRUFBUSxJQWpCTztFQWtCZixFQUFBLEVBQUcsSUFsQlk7RUFtQmYsS0FBQSxFQUFNLElBbkJTO0VBb0JmLEVBQUEsRUFBRyxJQXBCWTtFQXFCZixLQUFBLEVBQU07QUFyQlM7O0FBeUJoQixPQUFBLElBQU8sTUFBQSxHQUFTLENBQUMsR0FBRCxDQUFBLEdBQUE7QUFDaEIsTUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQTtFQUFDLEtBQUssQ0FBQyxNQUFOLENBQWEsR0FBYjtFQUNBLEVBQUEsR0FBSyxVQUFVLENBQUMsT0FBWCxDQUFtQixHQUFHLENBQUMsQ0FBRCxD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QmFzZTY0LHNwYWNlU2hpcH0gZnJvbSAnLi4vanMvdXRpbHMuanMnXHJcbmltcG9ydCB7QnV0dG9ufSBmcm9tICcuLi9qcy9idXR0b24uanMnXHJcbmltcG9ydCBfIGZyb20gJ2h0dHBzOi8vY2RuLnNreXBhY2suZGV2L2xvZGFzaCdcclxuXHJcbmV4cG9ydCBnbG9iYWwgPSB7XHJcblxyXG5cdGRpYWxvZ3VlczogW10sICMgZGlhbG9nc3RhY2sgdGlsbCBtZW55aGFudGVyaW5nZW5cclxuXHRib2FyZDAgOiBudWxsLFxyXG5cdGJvYXJkMSA6IG51bGwsXHJcblx0Y2hlc3MgOiBudWxsLCAjIGhhbnRlcmFyIGRyYWdlbiBzYW10IGRlcmFzIGxlZ2FsaXRldFxyXG5cclxuXHRtaW51dGVzIDogMTUsXHJcblx0aW5jcmVtZW50IDogMTAsICMgc2Vjb25kc1xyXG5cdGNsb2NrczogWzE1KjYwKzEwLDE1KjYwKzEwXSwgIyB3aGl0ZSBhbmQgYmxhY2sgaW4gc2Vjb25kcy4gZmxvYXQuXHJcblxyXG5cdHBhdXNlZCA6IHRydWUsXHJcblx0dmVyc2lvbjondmVyOiBCJyxcclxuXHRwaWNzIDoge30sICMgMTIgcGrDpHNlclxyXG5cdGJ1dHRvbnMgOiBbXSxcclxuXHJcblx0c2l6ZTpudWxsLCAjIGVuIHJ1dGFzIHN0b3JsZWtcclxuXHRzZXRTaXplOm51bGwsIFxyXG5cdG14Om51bGwsICMgeC1tYXJnaW5hbFxyXG5cdHNldE14Om51bGwsXHJcblx0bXk6bnVsbCwgIyB5LW1hcmdpbmFsXHJcblx0c2V0TXk6bnVsbCxcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjb29yZHMgPSAodWNpKSA9PlxyXG5cdHBhcmFtLlN0cmluZyB1Y2lcclxuXHRjMCA9IFwiYWJjZGVmZ2hcIi5pbmRleE9mIHVjaVswXVxyXG5cdHIwID0gXCIxMjM0NTY3OFwiLmluZGV4T2YgdWNpWzFdXHJcblx0YzEgPSBcImFiY2RlZmdoXCIuaW5kZXhPZiB1Y2lbMl1cclxuXHRyMSA9IFwiMTIzNDU2NzhcIi5pbmRleE9mIHVjaVszXVxyXG5cdHBhcmFtLkFycmF5IFtjMCs4KnIwLCBjMSs4KnIxXVxyXG5hc3MgWzgsMjRdLCBjb29yZHMgXCJhMmE0XCJcclxuXHJcbmV4cG9ydCB0b1VDSSA9IChbZnJvbSx0b10pID0+XHJcblx0cGFyYW0uSW50ZWdlciBmcm9tXHJcblx0cGFyYW0uSW50ZWdlciB0b1xyXG5cdGMwID0gXCJhYmNkZWZnaFwiW2Zyb20lOF1cclxuXHRyMCA9IFwiMTIzNDU2NzhcIltmcm9tLy84XVxyXG5cdGMxID0gXCJhYmNkZWZnaFwiW3RvJThdXHJcblx0cjEgPSBcIjEyMzQ1Njc4XCJbdG8vLzhdXHJcblx0cGFyYW0uU3RyaW5nIGMwK3IwK2MxK3IxXHJcbmFzcyBcImUyZTRcIiwgdG9VQ0kgWzEyLDI4XVxyXG5cclxuZXhwb3J0IHRvT2JqZWN0Tm90YXRpb24gPSAoW2Zyb20sdG9dKSA9PlxyXG5cdHBhcmFtLkludGVnZXIgZnJvbVxyXG5cdHBhcmFtLkludGVnZXIgdG9cclxuXHR1Y2kgPSB0b1VDSSBbZnJvbSx0b11cclxuXHRmcm9tID0gdWNpLnNsaWNlIDAsMlxyXG5cdHRvID0gdWNpLnNsaWNlIDIsNFxyXG5cdHBhcmFtLk9iamVjdCB7ZnJvbSwgdG99XHJcbmFzcyB7ZnJvbTonZTInLCB0bzonZTQnfSwgdG9PYmplY3ROb3RhdGlvbiBbMTIsMjhdXHJcblxyXG5leHBvcnQgZW1wdHkgPSAobikgPT5cclxuXHRwYXJhbS5JbnRlZ2VyIG5cclxuXHRwYXJhbS5TdHJpbmcgKDErbi8vOCkudG9TdHJpbmcoKVxyXG5cclxudW5kbyA9ID0+IFxyXG5cdCMgaWYgZ2xvYmFsLnN0YWNrLmxlbmd0aCA9PSAwIHRoZW4gcmV0dXJuXHJcblx0IyBnbG9iYWwuY2hlc3MudW5kbygpXHJcblx0IyBnbG9iYWwuY3Vyck5vZGUgPSBnbG9iYWwuc3RhY2sucG9wKClcclxuXHQjICMgbWFrZUNoaWxkcmVuKClcclxuXHJcbmV4cG9ydCBkdW1wU3RhdGUgPSA9PlxyXG5cdGNvbnNvbGUubG9nICdTVEFURSAjIyMjIyMjIydcclxuXHQjIGNvbnNvbGUubG9nICcgIHN0YWNrJyxnbG9iYWwuc3RhY2tcclxuXHRjb25zb2xlLmxvZyAnICBjdXJyTm9kZScsZ2xvYmFsLmN1cnJOb2RlXHJcblx0Y29uc29sZS5sb2cgJyAgaGlzdG9yeScsZ2xvYmFsLmNoZXNzLmhpc3RvcnkoKVxyXG5cclxubGluayA9ID0+ICdodHRwczovL2xpY2hlc3Mub3JnL2FuYWx5c2lzLycgKyBnbG9iYWwuY2hlc3MuZmVuKClcclxuIl19
//# sourceURL=c:\github\2023-026-chessx2\coffee\globals.coffee